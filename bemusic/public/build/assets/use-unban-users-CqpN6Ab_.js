import{G as d,ag as b,b as x,I as p,J as i,aa as j,z as f,$ as F,M as y,j as e,a0 as U,a1 as D,T as t,a2 as v,as as E,V as T,t as c,H as B}from"./main-CUJEGI8U.js";import{F as C}from"./date-picker-CE2IMMIh.js";import{F as w}from"./switch-4KDjemPX.js";import{D as P}from"./dialog-footer-jZcc-BBM.js";function S(n,s){return d({mutationFn:a=>x.post(`users/ban/${s.join(",")}`,a).then(r=>r.data),onSuccess:async()=>{p(i("[one User|other :count Users] suspended",{values:{count:s.length}})),await j.invalidateQueries({queryKey:["users"]})},onError:a=>b(a,n)})}function $({userIds:n,description:s,onSuccess:a}){const{trans:r}=f(),{close:m,formId:u}=F(),o=y({defaultValues:{permanent:!0}}),h=o.watch("permanent"),l=S(o,n);return e.jsxs(U,{children:[e.jsx(D,{children:e.jsx(t,{message:"Suspend users"})}),e.jsxs(v,{children:[e.jsxs(E,{id:u,form:o,onSubmit:g=>l.mutate(g,{onSuccess:()=>{m(!0),a==null||a()}}),children:[e.jsx(C,{name:"ban_until",label:e.jsx(t,{message:"Suspend until"}),disabled:h}),e.jsx(w,{name:"permanent",className:"mt-12",children:e.jsx(t,{message:"Permanent"})}),e.jsx(T,{className:"mt-24",name:"comment",inputElementType:"textarea",maxLength:250,label:e.jsx(t,{message:"Reason"}),placeholder:r(i("Optional"))})]}),s&&e.jsx("div",{className:"mt-16",children:s})]}),e.jsxs(P,{children:[e.jsx(c,{onClick:()=>m(),children:e.jsx(t,{message:"Cancel"})}),e.jsx(c,{form:u,variant:"flat",color:"primary",type:"submit",disabled:l.isPending,children:e.jsx(t,{message:"Suspend"})})]})]})}function k(n){return d({mutationFn:()=>x.delete(`users/unban/${n.join(",")}`).then(s=>s.data),onSuccess:()=>{p(i("[one User|other :count Users] unsuspended",{values:{count:n.length}})),j.invalidateQueries({queryKey:["users"]})},onError:s=>B(s)})}export{$ as B,k as u};
