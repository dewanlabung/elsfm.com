import{ae as p,cw as n,j as e,r as x,T as s,t as l,v as b,aa as j}from"./main-CUJEGI8U.js";import{A as g,B as h}from"./billing-plan-panel-CgbdcCNE.js";import{u as y}from"./useSuspenseQuery-13TuSADp.js";import{B as v,a as o}from"./breadcrumb-FXqyksUv.js";import{F as f}from"./formatted-date-DzIPJwiH.js";import{F as w}from"./formatted-price-o7rYOnCC.js";import{u as N}from"./use-cancel-subscription-CrzYdoE1.js";import"./section-helper-Dtpb8UEn.js";import"./useEffectEvent-pADbdn7r.js";import"./ChevronRight-BB6TpByg.js";import"./MoreHoriz-RUUnngeG.js";import"./use-date-formatter-m8TmZzOM.js";import"./DateFormatter-Dix9bfnP.js";const c="/billing";function K(){const i=p(),a=y(n.user()),t=N(),m=a.data.subscription.product,d=a.data.subscription.price,r=e.jsx("span",{className:"whitespace-nowrap",children:e.jsx(f,{date:a.data.subscription.renews_at,preset:"long"})}),u=()=>{t.mutate({subscriptionId:a.data.subscription.id},{onSuccess:()=>{j.invalidateQueries({queryKey:n.user().queryKey}),i("/billing")}})};return e.jsxs(x.Fragment,{children:[e.jsxs(v,{children:[e.jsx(o,{isLink:!0,onSelected:()=>i(c),children:e.jsx(s,{message:"Billing"})}),e.jsx(o,{children:e.jsx(s,{message:"Cancel"})})]}),e.jsx(g,{className:"mb-24"}),e.jsx("h1",{className:"my-32 text-3xl font-bold md:my-64",children:e.jsx(s,{message:"Cancel your plan"})}),e.jsx(h,{title:e.jsx(s,{message:"Current plan"}),children:e.jsxs("div",{className:"max-w-[464px]",children:[e.jsx("div",{className:"text-xl font-bold",children:m.name}),e.jsx(w,{price:d,className:"text-lg"}),e.jsxs("div",{className:"mb-48 mt-12 border-b pb-24 text-base",children:[a.data.subscription.on_trial?e.jsx(s,{message:"You will not be automatically charged after trial ends, but trial will still be active until :date",values:{date:r}}):e.jsx(s,{message:"Your plan will be canceled, but is still available until the end of your billing period on :date",values:{date:r}}),e.jsx("div",{className:"mt-20",children:e.jsx(s,{message:"If you change your mind, you can renew your subscription."})})]}),e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(l,{variant:"flat",color:"primary",size:"md",className:"mb-16 w-full",onClick:u,disabled:t.isPending,children:e.jsx(s,{message:"Cancel plan"})})}),e.jsx("div",{children:e.jsx(l,{variant:"outline",className:"w-full",to:c,elementType:b,children:e.jsx(s,{message:"Go back"})})}),e.jsx("div",{className:"mt-12 text-xs text-muted",children:e.jsx(s,{message:"By cancelling your plan, you agree to our terms of service and privacy policy."})})]})]})})]})}export{K as Component};
