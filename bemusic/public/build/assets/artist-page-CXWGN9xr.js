import{u as v,j as e,d as R,D as T,t as k,T as a,bX as D,v as d,r as x,at as j,ai as y,aR as E,cL as O,cg as W,a8 as M,W as _,X as G,cj as X}from"./main-CUJEGI8U.js";import{A as $}from"./artist-context-dialog-8LB7e1RZ.js";import{S as B}from"./small-artist-image-BqXmK0zy.js";import{g as K}from"./genre-link-DnbOgUf-.js";import{M as Z,a as N}from"./media-page-header-layout-B2pd5UBI.js";import{M as J,L as U}from"./comment-bar-new-comment-form-CyGo8E79.js";import{P as Y,q as C}from"./share-media-button-Dw3JV4C-.js";import{P as ee,a as se}from"./profile-description-BORmvgtE.js";import{a as m}from"./artist-page-tabs-D5ZP2b3D.js";import{I as te}from"./image-zoom-dialog-DLwmxXxG.js";import{u as re}from"./use-linkified-string-DMs78B9_.js";import{A as ie}from"./album-list-0Nh0E9IJ.js";import{u as g}from"./use-flat-infinite-query-items-3ilhvvhN.js";import{u as f}from"./useSuspenseInfiniteQuery-Vh8v-EaZ.js";import{A as F}from"./Album-pwm22nnR.js";import{T as oe}from"./track-list-Ybrg_2qr.js";import{g as ae}from"./artist-link-XkkvBaYk.js";import{A as me}from"./album-grid-item-gFm1NFxn.js";import{C as q}from"./content-grid-hmapBiIW.js";import{I}from"./infinite-scroll-sentinel-Br7e5Kqx.js";import{A as ne}from"./album-context-dialog-C5eIuCxr.js";import{A as le}from"./album-image-CkUJpPZs.js";import{A as ce}from"./album-link-DwfnHHp7.js";import{T as H}from"./track-table-CY1bAvY-.js";import{u as pe}from"./use-sortable-table-data-wSD3nGow.js";import{F as de}from"./formatted-date-DzIPJwiH.js";import{A as w}from"./ad-host-3MKQnMjM.js";import{G as ue}from"./GridView-Dh9DCz0C.js";import{V as xe}from"./ViewAgenda-C055QyEj.js";import{F as je}from"./follower-list-item-DowtzZ9C.js";import{B as ge}from"./BookmarkBorder-LH-D_qsx.js";import{A as fe}from"./artist-grid-item-DuZ7UhTD.js";import{T as he,a as be,b as u}from"./tabs-BVjOaE7L.js";import{P as we}from"./player-page-header-gradient-B98PHS1w.js";import{P as ve}from"./player-page-suspsense-nQjKTdHX.js";import{P as ye}from"./page-meta-tags-CEAowLoU.js";import{u as Ae}from"./use-required-params-Cp5Jywbp.js";import{u as Ne}from"./useSuspenseQuery-13TuSADp.js";import"./use-artist-permissions-BSDv3a1p.js";import"./toggle-in-library-menu-button-CqmQ1GOD.js";import"./use-clipboard-CQvDhy4G.js";import"./use-auth-click-capture-B9wu-BP4.js";import"./use-should-show-radio-button-CEtJUckB.js";import"./confirmation-dialog-DVMbD2S1.js";import"./dialog-footer-jZcc-BBM.js";import"./Mic-DAPkQZuC.js";import"./FavoriteBorder-D1CUmnAo.js";import"./toggle-repost-menu-button-DAsBpr-F.js";import"./Repeat-DTFydNM6.js";import"./track-context-dialog-DU1dwrB2.js";import"./add-to-queue-menu-button-AYv4MHMe.js";import"./use-player-store-BWFGgN3k.js";import"./is-ctrl-or-shift-pressed-Bx-mqgCW.js";import"./middleware-BLXTWOs6.js";import"./traditional-BcYcLesO.js";import"./artist-links-YW81uP4U.js";import"./use-track-permissions-ChTh4jJA.js";import"./track-image-B3DSRXTB.js";import"./MusicNote-SjrQa4Nt.js";import"./track-link-D8mIwI0F.js";import"./download-file-from-url-BVaKcxRP.js";import"./play-arrow-filled-BrHo1wfG.js";import"./formatted-number-gsF1qEbc.js";import"./MoreHoriz-RUUnngeG.js";import"./Share-C8wHCu8Q.js";import"./offline-media-items-Dlxt2ETB.js";import"./extension-from-filename-O0XMuZye.js";import"./Pause-B4fj-x54.js";import"./create-playlist-dialog-DeyZkjsM.js";import"./image-selector-GLpYAkj6.js";import"./file-upload-provider-DWaB2xE4.js";import"./uploaded-file-ksxfN_l-.js";import"./pretty-bytes-bO14ePu9.js";import"./use-active-upload-BwzDBsep.js";import"./open-upload-window-CboR35vP.js";import"./AddAPhoto-y5pGVyq2.js";import"./file-input-config-DrcTpI3-.js";import"./switch-4KDjemPX.js";import"./Image-DWFqsH18.js";import"./Add-B3RL66ee.js";import"./KeyboardArrowRight-CjTKdvdU.js";import"./use-previous-BgqS7ski.js";import"./playlist-image-zogte8rn.js";import"./PlaylistPlay-DcgxbGJx.js";import"./playlist-link-CLw6NzkW.js";import"./share-media-buttons-DtF-m4-I.js";import"./tab-panels-BNEb_18b.js";import"./linkify-Cbuu_PPG.js";import"./album-list-item-DE1HgISW.js";import"./use-album-permissions-_OgAnUnz.js";import"./track-list-item-CzKF7uNf.js";import"./waveform-O_aCNRMS.js";import"./useInteractOutside-BFJZ3Z5N.js";import"./useEffectEvent-pADbdn7r.js";import"./use-slider-B78Jo8sh.js";import"./useGlobalListeners-BeXr-yG1.js";import"./use-pointer-events-DcvSqvAc.js";import"./generate-waveform-data-BFwf5N3g.js";import"./formatted-duration-2_MIaPa4.js";import"./use-current-date-time-BhbL04rR.js";import"./slider-BDqMUq69.js";import"./infiniteQueryObserver-CQEL_EnT.js";import"./virtual-table-body-DQGnEfcL.js";import"./table-CgoYghfp.js";import"./checkbox-suk8vW77.js";import"./CheckBoxOutlineBlank-BgWeDdny.js";import"./skeleton-BmWW5Jc-.js";import"./ArrowDownward-BHYKFIfy.js";import"./getScrollParent--OCc5gFh.js";import"./index-B5ww1iWt.js";import"./entitiy-offline-indicator-icon-B5v2rY9X.js";import"./check-circle-filled-BwqtgJPU.js";import"./like-icon-button-ppQBH-Cs.js";import"./playable-grid-item-Cb5d38jQ.js";import"./track-BCLqLBLk.js";import"./genre-B_3ZyEC1.js";import"./use-delete-album-VPJfiJbG.js";import"./MoreVert-BiULonS7.js";import"./Schedule-D2nn-qO3.js";import"./TrendingUp-hWFiGDg8.js";import"./sort-array-of-objects-OJAulda_.js";import"./use-date-formatter-m8TmZzOM.js";import"./DateFormatter-Dix9bfnP.js";import"./user-image-CEN5XkJA.js";import"./Star-CDg8HN-f.js";import"./follow-button-CLIfB8Ne.js";import"./default-meta-tags-Cim_8kSD.js";function Te({artist:s}){var r;const{artistPage:t}=v();return e.jsx("div",{children:e.jsx(Z,{centerItems:!0,image:e.jsx(B,{showVerifiedBadge:!0,artist:s,className:"rounded-full object-cover",wrapperClassName:"mx-auto"}),title:s.name,subtitle:(r=s.genres)!=null&&r.length?e.jsx(ke,{genres:s.genres}):null,actionsBar:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-24 md:flex-row md:justify-between",children:[e.jsx(Ie,{artist:s}),e.jsx(J,{item:s})]}),footer:t.showDescription&&e.jsx(ee,{profile:s.profile,links:s.links})})})}function ke({genres:s}){return e.jsx("ul",{className:"flex max-w-620 items-center justify-start gap-14 overflow-hidden overflow-ellipsis whitespace-nowrap text-sm text-muted max-md:hidden",children:s==null?void 0:s.slice(0,5).map(t=>e.jsx("li",{children:e.jsx(d,{to:K(t),className:"block cursor-pointer rounded-button bg-fg-base/10 px-10 py-4 text-xs transition-colors hover:bg-fg-base/20",children:t.display_name||t.name})},t.id))})}function Ie({artist:s}){return e.jsxs("div",{children:[e.jsx(Y,{queueId:C(s),buttonType:"text",className:N({isFirst:!0})}),e.jsx(U,{likeable:s,className:R(N(),"max-md:hidden")}),e.jsxs(T,{type:"popover",mobileType:"tray",children:[e.jsx(k,{variant:"outline",radius:"rounded-full",endIcon:e.jsx(D,{}),className:N(),children:e.jsx(a,{message:"More"})}),e.jsx($,{artist:s})]})]})}function Pe({artist:s}){var o,n;const{artistPage:t}=v(),r=re((o=s.profile)==null?void 0:o.description),i=x.useMemo(()=>{var l;return((l=s.profile_images)==null?void 0:l.map(p=>p.url))||[]},[s.profile_images]);return e.jsxs("div",{className:"",children:[e.jsx("div",{className:"grid grid-cols-3 gap-24 lg:grid-cols-4",children:i.map((l,p)=>e.jsxs(T,{type:"modal",children:[e.jsx("button",{type:"button",className:"cursor-zoom-in overflow-hidden rounded outline-none transition hover:scale-105 focus-visible:ring",children:e.jsx("img",{className:"aspect-video cursor-zoom-in rounded object-cover shadow",src:l,alt:""})}),e.jsx(te,{images:i,defaultActiveIndex:p})]},l))}),e.jsx("div",{className:"whitespace-pre-wrap py-24 text-sm",dangerouslySetInnerHTML:{__html:r||""}}),(n=s.links)!=null&&n.length&&!(t!=null&&t.showDescription)?e.jsx(se,{links:s.links}):null]})}function Se({data:s}){const t=f(j.artists.show(s.artist.id).albums("list",s.albums)),r=g(t);return r.length?e.jsx(ie,{albums:r,query:t}):e.jsx(y,{imageHeight:"h-auto",imageMargin:"mb-14",image:e.jsx(F,{size:"lg",className:"text-muted"}),title:e.jsx(a,{message:"No albums yet"}),description:e.jsx(a,{message:"Follow :artist for updates on their latest releases.",values:{artist:s.artist.name}})})}function Le({data:s}){const t=f(j.artists.show(s.artist.id).tracks(s.tracks)),r=g(t);return r.length?e.jsx(oe,{tracks:r,query:t}):e.jsx(y,{imageHeight:"h-auto",imageMargin:"mb-14",image:e.jsx(E,{size:"lg",className:"text-muted"}),title:e.jsx(a,{message:"No tracks yet"}),description:e.jsx(a,{message:"Follow :artist for updates on their latest releases.",values:{artist:s.artist.name}})})}const Me=5,_e=25;function V(){return e.jsx(y,{className:"my-80",imageHeight:"h-auto",image:e.jsx(F,{size:"xl",className:"text-muted"}),title:e.jsx(a,{message:"We do not have discography for this artist yet"})})}function De({artist:s,initialAlbums:t}){const r=f(j.artists.show(s.id).albums("grid",t)),i=g(r);return i.length?e.jsxs(q,{children:[i.map(o=>e.jsx(me,{album:o},o.id)),e.jsx(I,{query:r})]}):e.jsx(V,{})}function Ge({artist:s,initialAlbums:t}){const r=f(j.artists.show(s.id).albums("list",t)),i=g(r);return i.length?e.jsxs("section",{children:[i.map(o=>e.jsxs("div",{className:"mb-40",children:[e.jsxs("div",{className:"mb-20 flex items-center gap-14",children:[e.jsx(le,{album:o,size:"w-110 h-110",className:"flex-shrink-0 rounded object-cover"}),e.jsxs("div",{className:"min-w-0 flex-auto",children:[e.jsx("h4",{className:"min-w-0 overflow-hidden overflow-ellipsis whitespace-nowrap text-lg font-semibold max-md:mt-12",children:e.jsx(ce,{album:o})}),o.release_date&&e.jsx("div",{className:"mb-18 mt-2 text-sm text-muted",children:e.jsx(de,{date:o.release_date})}),e.jsxs(T,{type:"popover",mobileType:"tray",offset:10,children:[e.jsx(k,{variant:"outline",size:"xs",radius:"rounded-full",endIcon:e.jsx(D,{}),children:e.jsx(a,{message:"More"})}),e.jsx(ne,{album:o})]})]})]}),e.jsx(Be,{album:o})]},o.id)),e.jsx(I,{query:r})]}):e.jsx(V,{})}function Be({album:s}){const{data:t,sortDescriptor:r,onSortChange:i}=pe(s.tracks);return e.jsx(H,{tracks:t,hideAlbum:!0,hideTrackImage:!0,sortDescriptor:r,onSortChange:i,queueGroupId:C(s,"*",r)})}function Ce({tracks:s}){const[t,r]=x.useState(!1),i=x.useMemo(()=>({all:s||[],sliced:(s==null?void 0:s.slice(0,5))||[]}),[s]);return e.jsxs("div",{className:"flex-auto",children:[e.jsx("h2",{className:"my-16 text-base text-muted",children:e.jsx(a,{message:"Popular songs"})}),e.jsx(H,{tracks:t?i.all:i.sliced,hideAlbum:!0,hideHeaderRow:!0}),e.jsx(k,{radius:"rounded-full",className:"mt-20",variant:"outline",onClick:()=>{r(!t)},children:t?e.jsx(a,{message:"Show less"}):e.jsx(a,{message:"Show more"})})]})}const Fe="artistPage-albumViewMode";function qe({data:s}){const{selectedAlbumViewMode:t,albums:r,artist:i}=s,[o,n]=x.useTransition(),{player:l}=v(),[p,h]=O(Fe,t||(l==null?void 0:l.default_artist_view)||"list"),A=b=>{n(()=>h(b))};return W({isLoading:o}),e.jsxs("div",{children:[e.jsx(He,{data:s}),e.jsx(w,{slot:"artist_bottom",className:"mt-34"}),e.jsxs("div",{className:"mt-44",children:[e.jsxs("div",{className:"mb-30 flex items-center border-b pb-4 text-muted",children:[e.jsx("h2",{className:"mr-auto text-base",children:e.jsx(a,{message:"Albums"})}),e.jsx(M,{label:e.jsx(a,{message:"List view"}),children:e.jsx(_,{className:"ml-24 flex-shrink-0",color:p==="list"?"primary":void 0,onClick:()=>A("list"),children:e.jsx(xe,{})})}),e.jsx(M,{label:e.jsx(a,{message:"Grid view"}),children:e.jsx(_,{className:"flex-shrink-0",color:p==="grid"?"primary":void 0,onClick:()=>A("grid"),children:e.jsx(ue,{})})})]}),p==="list"?e.jsx(Ge,{artist:i,initialAlbums:(r==null?void 0:r.per_page)===Me?r:null}):e.jsx(De,{artist:i,initialAlbums:(r==null?void 0:r.per_page)===_e?r:null})]})]})}function He({data:s}){var r,i;if(!((r=s.top_tracks)!=null&&r.length))return null;const t=((i=s.artist.similar)==null?void 0:i.slice(0,5))||[];return e.jsxs("div",{className:"flex items-start gap-30",children:[e.jsx(Ce,{tracks:s.top_tracks}),t.length?e.jsxs("div",{className:"w-1/3 max-w-320 max-md:hidden",children:[e.jsx("h2",{className:"my-16 text-base text-muted",children:e.jsx(a,{message:"Similar artists"})}),e.jsx("div",{children:t.map(o=>e.jsxs(d,{to:ae(o),className:"mb-4 flex cursor-pointer items-center gap-14 rounded p-4 hover:bg-hover",children:[e.jsx(B,{artist:o,className:"h-44 w-44 rounded-full object-cover"}),e.jsx("div",{className:"text-sm",children:o.name})]},o.id))})]}):null]})}function Ve({data:s}){const t=f(j.artists.show(s.artist.id).followers(s.followers)),r=g(t);return r.length?e.jsxs("div",{children:[r.map(i=>e.jsx(je,{follower:i},i.id)),e.jsx(I,{query:t})]}):e.jsx(y,{imageHeight:"h-auto",imageMargin:"mb-14",image:e.jsx(ge,{size:"lg",className:"text-muted"}),description:e.jsx(a,{message:"Seems like no one is following :name yet.",values:{name:s.artist.name}})})}function ze({artist:s}){var t;return e.jsx(q,{children:(t=s.similar)==null?void 0:t.map(r=>e.jsx(fe,{artist:r},r.id))})}function z(s){const[t]=G(),{artistPage:r}=v();return x.useMemo(()=>{var b,P,S,L;const i=Object.fromEntries(Object.entries(m).map(([c,Q])=>[Q,c])),o=(b=s.similar)==null?void 0:b.length,n=((P=s.profile_images)==null?void 0:P.length)||((S=s.profile)==null?void 0:S.description),l=(L=r==null?void 0:r.tabs)==null?void 0:L.filter(c=>!(!c.active||c.id===m.similar&&!o||c.id===m.about&&!n)).map(c=>({...c,name:i[c.id]})),p=m[t.get("tab")],h=l==null?void 0:l.findIndex(c=>c.id==p);return{selectedIndex:h>-1?h:0,activeTabs:l}},[s,r.tabs,t])}function Qe({data:s}){const{selectedIndex:t,activeTabs:r}=z(s.artist);return e.jsxs(he,{className:"mt-24 md:mt-48",selectedTab:t,children:[e.jsx(be,{children:r.map((i,o)=>{const n=o===0?"":`?tab=${i.name}`;switch(`${i.id}`){case m.discography:return e.jsx(u,{elementType:d,to:n,children:e.jsx(a,{message:"Discography"})},m.discography);case m.similar:return e.jsx(u,{elementType:d,to:n,children:e.jsx(a,{message:"Similar artists"})},m.similar);case m.about:return e.jsx(u,{elementType:d,to:n,children:e.jsx(a,{message:"About"})},m.about);case m.tracks:return e.jsx(u,{elementType:d,to:n,children:e.jsx(a,{message:"Tracks"})},m.tracks);case m.albums:return e.jsx(u,{elementType:d,to:n,children:e.jsx(a,{message:"Albums"})},m.albums);case m.followers:return e.jsx(u,{elementType:d,to:n,children:e.jsx(a,{message:"Followers"})},m.followers)}})}),e.jsx("div",{className:"mt-12 md:mt-24",children:e.jsx(x.Suspense,{fallback:e.jsx("div",{className:"flex min-h-124 items-center justify-center",children:e.jsx(X,{})}),children:e.jsx(Re,{data:s})},t)})]})}function Re({data:s}){const{activeTabs:t}=z(s.artist),[r]=G(),i=r.get("tab");let o=t.find(n=>n.name===i);switch(o||(o=t[0]),o.name){case"discography":return e.jsx(qe,{data:s});case"similar":return e.jsx(ze,{artist:s.artist});case"about":return e.jsx(Pe,{artist:s.artist});case"tracks":return e.jsx(Le,{data:s});case"albums":return e.jsx(Se,{data:s});case"followers":return e.jsx(Ve,{data:s})}}function cr(){return e.jsx(ve,{children:e.jsx(Ee,{})})}function Ee(){const{artistId:s}=Ae(["artistId"]),t=Ne(j.artists.show(s).artist("artistPage"));return e.jsxs(e.Fragment,{children:[e.jsx(ye,{query:t}),t.data.artist.image_small&&e.jsx(we,{image:t.data.artist.image_small}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{slot:"general_top",className:"mb-34"}),e.jsx(Te,{artist:t.data.artist}),e.jsx(w,{slot:"artist_top",className:"mt-14"}),e.jsx(Qe,{data:t.data}),e.jsx(w,{slot:"general_bottom",className:"mt-34"})]})]})}export{cr as Component};
