import{ba as G,d as f,j as s,b8 as U,r as E,b_ as O,b7 as W,am as _}from"./main-CUJEGI8U.js";import{u as q}from"./use-slider-B78Jo8sh.js";import{$ as A}from"./useGlobalListeners-BeXr-yG1.js";function B(e){const{size:t="md",inline:a,label:r,showValueLabel:n=!!r,className:i,width:o="w-full",slider:u,children:h,trackColor:p="primary",fillColor:m="primary"}=e,{domProps:D,trackRef:N,getThumbPercent:P,getThumbValueLabel:v,labelId:S,groupId:$,thumbIds:j,isDisabled:y,numberFormatter:b,minValue:T,maxValue:d,step:k,values:x,getValueLabel:w}=u;let g="",c=Math.max([...b.format(T)].length,[...b.format(d)].length,[...b.format(k)].length);w?g=w(x[0]):x.length===1?g=v(0):x.length===2&&(g=`${v(0)} â€“ ${v(1)}`,c=3+2*Math.max(c,[...b.format(T)].length,[...b.format(d)].length));const L=G({size:t,disabled:y,labelDisplay:"flex"}),C=f("touch-none",i,o,{"flex items-center":a});return s.jsxs("div",{className:C,role:"group",id:$,children:[(r||n)&&s.jsxs("div",{className:f(L.label,"select-none"),children:[r&&s.jsx("label",{onClick:()=>{var V;(V=document.getElementById(j[0]))==null||V.focus()},id:S,htmlFor:$,children:r}),n&&s.jsx("output",{htmlFor:j[0],className:"ml-auto text-right","aria-live":"off",style:c?{width:`${c}ch`,minWidth:`${c}ch`}:void 0,children:g})]}),s.jsxs("div",{ref:N,className:f("relative",J(e)),...D,role:"presentation",children:[s.jsx("div",{className:f("absolute inset-0 m-auto rounded",Q(p,y),z(t))}),s.jsx("div",{className:f("absolute inset-0 my-auto rounded",X(m,y),z(t)),style:{width:`${Math.max(P(0)*100,0)}%`}}),h]})]})}function J({size:e,wrapperHeight:t}){if(t)return t;switch(e){case"xs":return"h-14";case"sm":return"h-20";default:return"h-30"}}function z(e){switch(e){case"xs":return"h-2";case"sm":return"h-3";default:return"h-4"}}function Q(e,t){switch(t&&(e="disabled"),e){case"disabled":return"bg-slider-disabled/60";case"primary":return"bg-primary-light";case"neutral":return"bg-divider";default:return e}}function X(e,t){switch(t&&(e="disabled"),e){case"disabled":return"bg-slider-disabled";case"primary":return"bg-primary";default:return e}}function Y({index:e,slider:t,isDisabled:a,ariaLabel:r,inputRef:n,onBlur:i,fillColor:o="primary"}){const u=U(n),{addGlobalListener:h,removeGlobalListener:p}=A(),{step:m,values:D,focusedThumb:N,labelId:P,thumbIds:v,isDisabled:S,getThumbPercent:$,getThumbMinValue:j,getThumbMaxValue:y,getThumbValueLabel:b,setThumbValue:T,updateDraggedThumbs:d,isThumbDragging:k,setThumbEditable:x,setFocusedThumb:w,isPointerOver:g,showThumbOnHoverOnly:c,thumbSize:L="w-18 h-18"}=t,C=k(e),V=D[e];x(e,!a);const F=a||S,I=E.useCallback(()=>{u.current&&u.current.focus({preventScroll:!0})},[u]),M=N===e;E.useEffect(()=>{M&&I()},[M,I]);const K=E.useRef(void 0),R=l=>{l.pointerId===K.current&&(I(),d(e,!1),p(window,"pointerup",R,!1))},H=f("outline-none rounded-full top-1/2 -translate-y-1/2 -translate-x-1/2 absolute inset-0 transition-button duration-200",L,!F&&"shadow-md",Z({fillColor:o,isDisabled:F,isDragging:C}),!c||c&&C||g?"visible":"invisible");return s.jsx("div",{role:"presentation",className:H,style:{left:`${Math.max($(e)*100,0)}%`},onPointerDown:l=>{l.button!==0||l.altKey||l.ctrlKey||l.metaKey||(I(),K.current=l.pointerId,d(e,!0),h(window,"pointerup",R,!1))},children:s.jsx("input",{id:v[e],onKeyDown:O(()=>{d(e,!0)}),onKeyUp:O(()=>{d(e,!1)}),ref:u,tabIndex:F?void 0:0,min:j(e),max:y(e),step:m,value:V,disabled:F,"aria-label":r,"aria-labelledby":P,"aria-orientation":"horizontal","aria-valuetext":b(e),onFocus:()=>{w(e)},onBlur:l=>{w(void 0),d(e,!1),i==null||i(l)},onChange:l=>{T(e,parseFloat(l.target.value))},type:"range",className:"sr-only"})})}function Z({isDisabled:e,isDragging:t,fillColor:a}){return e?"bg-slider-disabled cursor-default":a&&a!=="primary"?a:f("hover:bg-primary-dark",t?"bg-primary-dark":"bg-primary")}function ee({inputRef:e,onBlur:t,...a}){const{onChange:r,onChangeEnd:n,value:i,defaultValue:o,...u}=a,h={...u,value:i!=null?[i]:void 0,defaultValue:o!=null?[o]:void 0,onChange:m=>{r==null||r(m[0])},onChangeEnd:m=>{n==null||n(m[0])}},p=q(h);return s.jsx(B,{...h,slider:p,children:s.jsx(Y,{fillColor:a.fillColor,index:0,slider:p,inputRef:e,onBlur:t})})}function se({name:e,...t}){const{field:{onChange:a,onBlur:r,value:n="",ref:i}}=W({name:e}),o={onChange:a,onBlur:r,value:n||""};return s.jsx(ee,{inputRef:i,..._(o,t)})}export{se as F,ee as S};
