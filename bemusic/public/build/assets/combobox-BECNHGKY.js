import{R as K,bA as H,bD as z,j as t,bC as T,c2 as W,ar as _,b_ as $,W as q}from"./main-CUJEGI8U.js";import{C as G}from"./combobox-end-adornment-B0xReOuL.js";function J(a,b){var m;const{children:Q,items:U,isAsync:X,isLoading:l,isPending:f,isFetching:C,openMenuOnFocus:g=!0,endAdornmentIcon:h,onItemSelected:Y,maxItems:Z,clearInputOnItemSelection:I,inputValue:ee,selectedValue:ne,onSelectionChange:te,allowCustomValue:v=!1,onInputValueChange:oe,defaultInputValue:se,selectionMode:O="single",useOptionLabelAsInputValue:F,showEmptyMessage:ae,floatingMaxHeight:L,hideEndAdornment:V=!1,blurReferenceOnItemSelection:A,clearSelectionOnInputClear:le,isOpen:ie,onOpenChange:re,prependListbox:w,listboxClassName:N,contentClassName:R,searchFieldClassName:S,onEndAdornmentClick:i,autoFocusFirstItem:ue=!0,focusLoopingMode:ce,...r}=a,o=H({...a,floatingMaxHeight:L,blurReferenceOnItemSelection:A,selectionMode:O,role:"listbox",virtualFocus:!0,clearSelectionOnInputClear:!0},b),{reference:j,listboxId:y,onInputChange:D,state:{isOpen:n,setIsOpen:u,inputValue:E,setInputValue:P,selectValues:c,selectedValues:s,setActiveCollection:M},collection:k}=o,d=s[0]?(m=k.get(s[0]))==null?void 0:m.textLabel:void 0,{handleListboxSearchFieldKeydown:B}=z(o),p=$(e=>{g&&!n&&u(!0),e.target.select()});return t.jsx(T,{prepend:w,className:N,contentClassName:R,listbox:o,mobileOverlay:W,isLoading:l,isPending:f,onPointerDown:e=>{e.preventDefault()},children:t.jsx(_,{inputRef:j,className:S,...r,endAdornment:V?null:t.jsx(q,{size:"md",tabIndex:-1,disabled:r.disabled,className:"pointer-events-auto",onPointerDown:e=>{e.preventDefault(),e.stopPropagation(),i?i():(M("all"),u(!n))},children:t.jsx(G,{isLoading:l||C,icon:h})}),"aria-expanded":n?"true":"false","aria-haspopup":"listbox","aria-controls":n?y:void 0,"aria-autocomplete":"list",autoComplete:"off",autoCorrect:"off",spellCheck:"false",onChange:D,value:F&&d?d:E,onBlur:e=>{if(v)c(e.target.value);else if(!I){const x=s[0];P(c.length&&x!=null?`${x}`:"")}},onFocus:p,onClick:p,onKeyDown:e=>B(e)})})}const me=K.forwardRef(J);export{me as C};
