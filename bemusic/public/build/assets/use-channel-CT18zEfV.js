import{ce as y,Y as v,r as f,cf as g,a as T,cg as w,y as C,c9 as P,ch as b,j as o,aD as I,d as j,v as m,T as p,K,X as $,t as q,al as D,aF as L}from"./main-CUJEGI8U.js";import{$ as N}from"./getScrollParent--OCc5gFh.js";import{F as R}from"./formatted-number-gsF1qEbc.js";import{F as k}from"./FirstPage-Cg09yWCI.js";import{K as A}from"./KeyboardArrowRight-CjTKdvdU.js";import{u as F}from"./useSuspenseQuery-13TuSADp.js";function W(e,i,a){const r=y(a),s=v.show(e.id,i,r),t=f.useRef(g(s.queryKey)).current,n=T({...s,placeholderData:C,staleTime:1/0,initialData:()=>{if(g(s.queryKey)===t&&e.content)return{channel:e}}});return w({isLoading:n.isPlaceholderData}),{query:n,queryKey:s.queryKey}}function d(e){(e!=null&&e.current?N(e.current):document.documentElement).scrollTo({top:0,left:0})}function X({pagination:e,className:i,type:a,scrollToTop:r}){var t;return!((t=e==null?void 0:e.data)!=null&&t.length)||!P(e)&&!b(e)?null:(!a||a==="lengthAware")&&"total"in e&&e.total!=null?o.jsx(Q,{data:e,className:i,scrollToTop:r}):o.jsx(S,{data:e,className:i,scrollToTop:r})}function Q({data:e,className:i,scrollToTop:a}){const r=f.useRef(null),s=e.current_page,t=e.total,n=e.per_page,x=B(s,t,n);return o.jsx("nav",{ref:r,className:j("flex flex-wrap items-center justify-center",i),children:o.jsx("ul",{className:"flex items-center gap-4",children:x.map((c,u)=>{const l=c===s;return o.jsx("li",{children:o.jsx(h,{page:l?void 0:c,elementType:l?void 0:m,replace:!0,variant:l?"outline":void 0,disabled:l||c==="...",onClick:a?()=>d(r):void 0,children:c==="..."?c:o.jsx(R,{value:+c})})},c==="..."?`...-${u}`:c)})})})}function h({page:e,...i}){const[a]=$(),r=f.useMemo(()=>e?(a.set("page",`${e}`),a.toString()):null,[e,a]);return o.jsx(q,{to:r?{search:r}:void 0,...i})}function S({data:e,className:i,scrollToTop:a}){const r=f.useRef(null),s=e.current_page,t=!P(e);return o.jsxs("div",{ref:r,className:j("flex items-center gap-12",i),children:[s>1&&o.jsx(h,{variant:"outline",elementType:m,className:"min-w-110",page:1,replace:!0,startIcon:o.jsx(k,{}),onClick:a?()=>d(r):void 0,size:"xs",children:o.jsx(p,{message:"First"})}),o.jsx(h,{variant:"outline",elementType:s==1?void 0:m,disabled:s==1,className:"mr-auto min-w-110",page:s==1?void 0:s-1,replace:s==1?void 0:!0,startIcon:o.jsx(K,{}),onClick:a?()=>d(r):void 0,size:"xs",children:o.jsx(p,{message:"Previous"})}),o.jsx(h,{variant:"outline",elementType:t?void 0:m,disabled:t,className:"min-w-110",page:t?void 0:s+1,replace:t?void 0:!0,endIcon:o.jsx(A,{}),onClick:a?()=>d(r):void 0,size:"xs",children:o.jsx(p,{message:"Next"})})]})}const B=I((e,i,a)=>{const r=Math.ceil(i/a),s=3,t=[];for(let n=Math.max(2,e-s);n<=Math.min(r-1,e+s);n++)t.push(n);return e-s>2&&t.unshift("..."),e+s<r-1&&t.push("..."),t.unshift(1),t.push(r),t});function Y(e,i,a){const r=D(),s=e||r.slugOrId,t=y(a);return F({...v.show(s,i,t),staleTime:1/0,initialData:()=>{var u,l;const n=(u=L().loaders)==null?void 0:u[i],x=(n==null?void 0:n.channel.id)==s||(n==null?void 0:n.channel.slug)==s,c=!t.restriction||((l=n==null?void 0:n.channel.restriction)==null?void 0:l.name)===t.restriction;if(x&&c)return n}})}export{X as P,Y as a,W as u};
