import{r as n,e as I,j as s,cj as P,ck as f,au as E,cl as j,cm as x}from"./main-CUJEGI8U.js";const S={delay:500,minDuration:200};function L(r,e){e=Object.assign({},S,e);const[t,u]=n.useState("IDLE"),a=n.useRef(null);return n.useEffect(()=>{r&&t==="IDLE"&&(clearTimeout(a.current),a.current=setTimeout(()=>{if(!r)return u("IDLE");a.current=setTimeout(()=>{u("EXPIRE")},e==null?void 0:e.minDuration),u("DISPLAY")},e==null?void 0:e.delay),u("DELAY")),!r&&t!=="DISPLAY"&&(clearTimeout(a.current),u("IDLE"))},[r,t,e.delay,e.minDuration]),n.useEffect(()=>()=>clearTimeout(a.current),[]),t==="DISPLAY"||t==="EXPIRE"}function g({query:r,show404:e=!0,loader:t,loaderClassName:u,loaderIsScreen:a=!0,delayedSpinner:m=!0,redirectOn404:l,isLoading:c}){const{isLoggedIn:i}=I();c=c??r.isLoading;const D=L(c,{delay:500,minDuration:200});return c?!D&&m?null:t||s.jsx(P,{className:u,screen:a}):r.isError&&(f(r.error,401)||f(r.error,403))&&!i?s.jsx(E,{to:"/login",replace:!0}):e&&r.isError&&f(r.error,404)?l?s.jsx(E,{to:l,replace:!0}):s.jsx(j,{}):s.jsx(x,{})}export{g as P};
