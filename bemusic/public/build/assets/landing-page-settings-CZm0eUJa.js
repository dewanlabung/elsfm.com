import{a as Y,Y as Z,j as e,V as d,T as s,Q as l,v as D,Z as C,D as v,t as g,_ as $,$ as P,a0 as k,a1 as B,a2 as T,r as h,P as A,a3 as X,n as ee,J as p,M as se,a4 as ae,a5 as te}from"./main-CUJEGI8U.js";import{L as E}from"./external-link-jlnQ3iTs.js";import{F as b}from"./select-Z9R0wV6S.js";import{M as W,I as ne}from"./menu-item-form-CtqlqbSU.js";import{S as w,a as N}from"./settings-section-button-BOceg79h.js";import{F as j}from"./switch-4KDjemPX.js";import{A as I}from"./Add-B3RL66ee.js";import{A as z}from"./ArrowRight-BjVkS8hs.js";import{I as re}from"./image-selector-GLpYAkj6.js";import{g as ie}from"./get-image-size-iUxUXrDd.js";import{D as q}from"./DragHandle-CQHOqRgB.js";import{E as le}from"./Edit-BRVJ8AkN.js";import{u as _}from"./use-sortable-imA7wH2m.js";import{D as oe}from"./dialog-footer-jZcc-BBM.js";import{C as me}from"./color-icon-Xc96SOHB.js";import{C as ce}from"./color-picker-dialog-DMELDOWr.js";import{F as xe}from"./slider-BDqMUq69.js";import{u as de}from"./use-admin-settings-CWPhg6hD.js";import{A as ue,a as je}from"./accordion-BALGWyw-.js";import"./combobox-end-adornment-B0xReOuL.js";import"./permission-selector-Ba4ONcTb.js";import"./list-C96mDrnJ.js";import"./uc-first-pSl3nM3z.js";import"./form-chip-field-ehb7ckkp.js";import"./input-DAWJLQiY.js";import"./chip-list-D0uDB84E.js";import"./use-previous-BgqS7ski.js";import"./skeleton-BmWW5Jc-.js";import"./settings-layout-KPbHCtKd.js";import"./settings-links-6v3CjZ6H.js";import"./middleware-BLXTWOs6.js";import"./use-admin-settings-page-nav-config-C00ols9x.js";import"./admin-config-DTFkVWJm.js";import"./Album-pwm22nnR.js";import"./Comment-vFUyF-gf.js";import"./FileUpload-CTBOdaGq.js";import"./Mic-DAPkQZuC.js";import"./PlaylistPlay-DcgxbGJx.js";import"./QueueMusic-CiX-EN5z.js";import"./Sell-D56iqjs7.js";import"./datatable-page-with-header-layout-C4e5sJMc.js";import"./dashboard-layout-context-DeTNv3yG.js";import"./file-upload-provider-DWaB2xE4.js";import"./uploaded-file-ksxfN_l-.js";import"./extension-from-filename-O0XMuZye.js";import"./pretty-bytes-bO14ePu9.js";import"./traditional-BcYcLesO.js";import"./confirmation-dialog-DVMbD2S1.js";import"./OpenInFull-D-qHNzAi.js";import"./use-active-upload-BwzDBsep.js";import"./open-upload-window-CboR35vP.js";import"./AddAPhoto-y5pGVyq2.js";import"./file-input-config-DrcTpI3-.js";import"./getScrollParent--OCc5gFh.js";import"./useGlobalListeners-BeXr-yG1.js";import"./use-slider-B78Jo8sh.js";import"./use-pointer-events-DcvSqvAc.js";import"./useSuspenseQuery-13TuSADp.js";function ge({index:t}){var i,o;const a=`client.landingPage.sections.${t}`,r=((o=(i=Y(Z.index()).data)==null?void 0:i.pagination)==null?void 0:o.data)??[];return e.jsxs(e.Fragment,{children:[e.jsx(d,{label:e.jsx(s,{message:"Badge"}),className:"mb-20",name:`${a}.badge`}),e.jsx(d,{label:e.jsx(s,{message:"Title"}),className:"mb-20",name:`${a}.title`}),e.jsx(d,{label:e.jsx(s,{message:"Description"}),className:"mb-20",inputElementType:"textarea",rows:4,name:`${a}.description`}),e.jsx(b,{label:e.jsx(s,{message:"Channel"}),className:"mb-20",name:`${a}.channelId`,selectionMode:"single",children:r.map(m=>e.jsx(l,{value:`${m.id}`,children:m.name},m.id))}),e.jsx("div",{className:"text-sm",children:e.jsx(s,{message:"Configure channel content from <a>Channel manager</a>.",values:{a:m=>e.jsx(D,{className:E,to:"/admin/channels",target:"_blank",children:m})}})})]})}function he({index:t}){const a=`client.landingPage.sections.${t}`,n=C({name:`${a}.buttons`});return e.jsxs(e.Fragment,{children:[e.jsx(d,{label:e.jsx(s,{message:"Title"}),className:"mb-20",name:`${a}.title`}),e.jsx(d,{label:e.jsx(s,{message:"Description"}),className:"mb-20",inputElementType:"textarea",rows:4,name:`${a}.description`}),e.jsx(L,{}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-10 text-sm font-semibold",children:e.jsx(s,{message:"Buttons"})}),n.fields.map((r,i)=>e.jsx(e.Fragment,{children:e.jsxs(v,{type:"drawer",children:[e.jsx(w,{className:"mb-10",endIcon:e.jsx(z,{className:"text-muted"}),children:e.jsx(pe,{index:i,formPathPrefix:`${a}.buttons`})}),e.jsx(be,{formPathPrefix:`${a}.buttons.${i}`,title:e.jsx(s,{message:"Button :number",values:{number:i+1}})})]})},r.id)),e.jsx(g,{variant:"outline",color:"primary",size:"xs",startIcon:e.jsx(I,{}),onClick:()=>{n.append({color:"primary",variant:"flat"})},children:e.jsx(s,{message:"Add button"})})]}),e.jsx(L,{}),e.jsx(j,{name:`${a}.forceDarkMode`,children:e.jsx(s,{message:"Always use dark mode"})})]})}function pe({index:t,formPathPrefix:a}){return $({name:`${a}.${t}.label`})||e.jsx(s,{message:"Button :number",values:{number:t+1}})}function L(){return e.jsx("div",{className:"my-20 h-1 bg-divider"})}function be({formPathPrefix:t,title:a}){const{close:n}=P();return e.jsxs(k,{children:[e.jsx(B,{rightAdornment:e.jsx(g,{variant:"outline",size:"xs",onClick:n,children:e.jsx(s,{message:"Save & close"})}),children:a}),e.jsx(T,{children:e.jsxs(W,{formPathPrefix:t,children:[e.jsxs(b,{label:e.jsx(s,{message:"Button variant"}),name:`${t}.variant`,selectionMode:"single",className:"mb-20",children:[e.jsx(l,{value:"flat",children:e.jsx(s,{message:"Flat"})}),e.jsx(l,{value:"outline",children:e.jsx(s,{message:"Outline"})}),e.jsx(l,{value:"text",children:e.jsx(s,{message:"Text"})}),e.jsx(l,{value:"raised",children:e.jsx(s,{message:"Raised"})})]}),e.jsxs(b,{label:e.jsx(s,{message:"Button color"}),name:`${t}.color`,selectionMode:"single",className:"mb-20",children:[e.jsx(l,{value:"primary",children:e.jsx(s,{message:"Primary"})}),e.jsx(l,{value:"danger",children:e.jsx(s,{message:"Danger"})}),e.jsx(l,{value:"positive",children:e.jsx(s,{message:"Positive"})}),e.jsx(l,{value:"chip",children:e.jsx(s,{message:"Chip"})}),e.jsx(l,{value:"white",children:e.jsx(s,{message:"White"})}),e.jsx(l,{value:"default",children:e.jsx(s,{message:"Default"})})]})]})})]})}function Q({formPrefix:t,className:a,label:n}){const r=h.useRef(null),{setValue:i}=A(),o=$({name:`${t}.image`});return e.jsx(re,{showRemoveButton:!0,uploadType:X.brandingImages,className:a,label:n,value:o==null?void 0:o.src,onChange:async m=>{const c={src:m};if(r.current){const x=await ie(r.current);x&&(c.width=x.width,c.height=x.height)}i(`${t}.image`,c,{shouldDirty:!0})},onFileSelected:m=>{r.current=m}})}function fe({index:t}){const a=`client.landingPage.sections.${t}`;return e.jsxs(e.Fragment,{children:[e.jsx(d,{label:e.jsx(s,{message:"Badge"}),className:"mb-20",rows:4,name:`${a}.badge`}),e.jsx(d,{label:e.jsx(s,{message:"Title"}),className:"mb-20",name:`${a}.title`}),e.jsx(d,{label:e.jsx(s,{message:"Description"}),className:"mb-20",inputElementType:"textarea",rows:4,name:`${a}.description`}),e.jsx(H,{}),e.jsx(G,{prefix:a}),e.jsx(H,{}),e.jsx(Q,{formPrefix:a,className:"mb-20",label:e.jsx(s,{message:"Screenshot"})}),e.jsxs(b,{name:`${a}.imageSize`,className:"mb-20",label:e.jsx(s,{message:"Image size"}),children:[e.jsx(l,{value:"xs",children:e.jsx(s,{message:"Extra small"})}),e.jsx(l,{value:"sm",children:e.jsx(s,{message:"Small"})}),e.jsx(l,{value:"md",children:e.jsx(s,{message:"Medium"})}),e.jsx(l,{value:"lg",children:e.jsx(s,{message:"Large"})})]}),e.jsx(j,{name:`${a}.alignLeft`,className:"mb-12",children:e.jsx(s,{message:"Align image left"})}),e.jsx(j,{name:`${a}.inPanel`,className:"mb-12",children:e.jsx(s,{message:"Wrap section with panel"})}),e.jsx(j,{name:`${a}.imagePanel`,className:"mb-12",children:e.jsx(s,{message:"Wrap image with panel"})}),e.jsx(j,{name:`${a}.forceDarkMode`,children:e.jsx(s,{message:"Always use dark mode"})})]})}function G({prefix:t}){var c;const{fields:a,remove:n,append:r,move:i}=C({name:`${t}.features`}),[o,m]=h.useState(null);return e.jsxs("div",{children:[e.jsx("div",{className:"mb-10 text-sm font-semibold",children:e.jsx(s,{message:"Feature list"})}),a.map((x,u)=>e.jsx(ve,{feature:x,features:a,onSortEnd:(f,F)=>i(f,F),onSelected:()=>m(u),index:u,prefix:t},x.id)),e.jsx(v,{type:"drawer",isOpen:o!==null,onClose:()=>m(null),children:e.jsx($e,{formPathPrefix:`${t}.features.${o}`,title:(c=a[o])==null?void 0:c.title,onDelete:()=>{o!==null&&(n(o),m(null))}})}),e.jsx(g,{variant:"outline",color:"primary",size:"xs",startIcon:e.jsx(I,{}),onClick:()=>{const x=a.length-1;r({title:`Feature ${a.length+1}`,description:`Feature ${a.length+1} description`}),m(x+1)},children:e.jsx(s,{message:"Add new feature"})}),e.jsx(j,{name:`${t}.wrapIconsInBg`,className:"mt-12",children:e.jsx(s,{message:"Wrap icons in background"})})]})}function ve({feature:t,features:a,onSortEnd:n,onSelected:r,index:i,prefix:o}){const m=h.useRef(null),{sortableProps:c,dragHandleRef:x}=_({item:t.id,items:a.map(u=>u.id),ref:m,type:"featureList",onSortEnd:n,strategy:"liveSort"});return e.jsx(w,{...c,ref:m,className:"mb-10",endIcon:e.jsx(z,{className:"text-muted"}),startIcon:e.jsx(q,{size:"sm",ref:x}),onClick:()=>r(),children:e.jsx(Se,{index:i,formPathPrefix:`${o}.features`})})}function $e({formPathPrefix:t,title:a,onDelete:n}){const{close:r}=P();return e.jsxs(k,{children:[e.jsx(B,{rightAdornment:e.jsx(g,{variant:"outline",size:"xs",onClick:r,children:e.jsx(s,{message:"Save & close"})}),children:a||e.jsx(s,{message:"Edit feature"})}),e.jsxs(T,{children:[e.jsx(Ne,{formPrefix:t}),e.jsx(d,{name:`${t}.title`,label:e.jsx(s,{message:"Title"}),className:"mb-20"}),e.jsx(d,{name:`${t}.description`,label:e.jsx(s,{message:"Description"}),inputElementType:"textarea",rows:4})]}),e.jsx(oe,{children:e.jsx(g,{variant:"outline",color:"danger",size:"xs",onClick:()=>{r(),setTimeout(()=>n(),160)},children:e.jsx(s,{message:"Delete feature"})})})]})}function Se({index:t,formPathPrefix:a}){return $({name:`${a}.${t}.title`})||e.jsx(s,{message:"Feature :number",values:{number:t+1}})}function Ne({formPrefix:t}){const{setValue:a}=A(),n=`${t}.icon`,r=$({name:n}),i=r&&ee(r);return e.jsxs(v,{type:"modal",onClose:o=>{(o||o===null)&&a(n,o,{shouldDirty:!0})},children:[e.jsx(g,{className:"mb-20",variant:"outline",startIcon:i?e.jsx(i,{}):e.jsx(le,{}),children:e.jsx(s,{message:"Select icon"})}),e.jsx(ne,{})]})}function H(){return e.jsx("div",{className:"my-20 h-1 bg-divider"})}function ye({index:t}){const a=`client.landingPage.sections.${t}`;return e.jsxs(e.Fragment,{children:[e.jsx(d,{label:e.jsx(s,{message:"Badge"}),className:"mb-20",rows:4,name:`${a}.badge`}),e.jsx(d,{label:e.jsx(s,{message:"Title"}),className:"mb-20",name:`${a}.title`,required:!0}),e.jsx(d,{label:e.jsx(s,{message:"Description"}),className:"mb-20",inputElementType:"textarea",rows:4,name:`${a}.description`}),e.jsx(V,{}),e.jsx(G,{prefix:a}),e.jsx(V,{}),e.jsxs(b,{label:e.jsx(s,{message:"Maximum columns"}),className:"mb-20",selectionMode:"single",name:`${a}.maxColumns`,children:[e.jsx(l,{value:"2",children:"2"}),e.jsx(l,{value:"3",children:"3"}),e.jsx(l,{value:"4",children:"4"})]}),e.jsx(j,{name:`${a}.iconsOnTop`,className:"mb-20",children:e.jsx(s,{message:"Icons on top"})})]})}function V(){return e.jsx("div",{className:"my-20 h-1 bg-divider"})}function Ce({index:t}){return e.jsx("div",{className:"text-sm",children:e.jsx(s,{message:"Configure footer content from <a>Menu manager</a>.",values:{a:a=>e.jsx(D,{className:E,to:"/admin/settings/menus",target:"_blank",children:a})}})})}function O({label:t,formKey:a}){const{watch:n,setValue:r}=A(),i=n(a),o=m=>{r(a,m,{shouldDirty:!0})};return e.jsxs(v,{type:"popover",value:i,alwaysReturnCurrentValueOnClose:!0,onValueChange:m=>o(m),onClose:m=>o(m),placement:"right",children:[e.jsx(w,{className:"capitalize",startIcon:e.jsx(me,{viewBox:"0 0 48 48",className:"icon-lg",style:{fill:i}}),children:t}),e.jsx(ce,{})]})}const S=h.createContext(null),J={"hero-split-with-screenshot":p("Hero split with screenshot"),"hero-with-background-image":p("Hero with background image"),"hero-simple-centered":p("Hero simple centered")},K={...J,"feature-with-screenshot":p("Feature with screenshot"),"features-grid":p("Features grid"),"cta-simple-centered":p("Call to action"),pricing:p("Pricing"),footer:p("Footer")};function we({index:t}){const a=`client.landingPage.sections.${t}`,n=C({name:`${a}.buttons`});return e.jsxs(e.Fragment,{children:[e.jsx(b,{required:!0,name:`${a}.name`,label:e.jsx(s,{message:"Hero type"}),className:"mb-20",children:Object.entries(J).map(([r,i])=>e.jsx(l,{value:r,children:e.jsx(s,{...i})},r))}),e.jsx(d,{label:e.jsx(s,{message:"Badge"}),className:"mb-20",name:`${a}.badge`}),e.jsx(d,{label:e.jsx(s,{message:"Title"}),className:"mb-20",name:`${a}.title`}),e.jsx(d,{label:e.jsx(s,{message:"Description"}),className:"mb-20",inputElementType:"textarea",rows:4,name:`${a}.description`}),e.jsx(y,{}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-10 text-sm font-semibold",children:e.jsx(s,{message:"Buttons"})}),n.fields.map((r,i)=>e.jsx(e.Fragment,{children:e.jsxs(v,{type:"drawer",children:[e.jsx(w,{className:"mb-10",endIcon:e.jsx(z,{className:"text-muted"}),children:e.jsx(Fe,{index:i,formPathPrefix:`${a}.buttons`})}),e.jsx(De,{formPathPrefix:`${a}.buttons.${i}`,title:e.jsx(s,{message:"Header button :number",values:{number:i+1}})})]})},r.id)),e.jsx(g,{variant:"outline",color:"primary",size:"xs",startIcon:e.jsx(I,{}),onClick:()=>{n.append({color:"primary",variant:"flat"})},children:e.jsx(s,{message:"Add button"})})]}),e.jsx(y,{}),e.jsx(Q,{formPrefix:a,className:"mb-24",label:e.jsx(s,{message:"Header image"})}),e.jsx(y,{}),e.jsx(Ie,{formPathPrefix:`${a}.bgColors`}),e.jsx(y,{}),e.jsx(j,{name:`${a}.forceDarkMode`,className:"mb-12",children:e.jsx(s,{message:"Always use dark mode colors"})}),e.jsx(j,{name:`${a}.showAsPanel`,children:e.jsx(s,{message:"Show as panel"})}),e.jsx(Pe,{prefix:a,index:t})]})}function Ie({formPathPrefix:t}){return e.jsxs("div",{children:[e.jsx("div",{className:"mb-10 text-sm font-semibold",children:e.jsx(s,{message:"Background colors"})}),e.jsx(O,{label:e.jsx(s,{message:"Color 1"}),formKey:`${t}.color1`}),e.jsx(O,{label:e.jsx(s,{message:"Color 2"}),formKey:`${t}.color2`}),e.jsx(xe,{label:e.jsx(s,{message:"Opacity"}),name:`${t}.opacity`,minValue:0,maxValue:1,step:.05})]})}function Fe({index:t,formPathPrefix:a}){return $({name:`${a}.${t}.label`})||e.jsx(s,{message:"Button :number",values:{number:t+1}})}function y(){return e.jsx("div",{className:"my-20 h-1 bg-divider"})}function De({formPathPrefix:t,title:a}){const{close:n}=P();return e.jsxs(k,{children:[e.jsx(B,{rightAdornment:e.jsx(g,{variant:"outline",size:"xs",onClick:n,children:e.jsx(s,{message:"Save & close"})}),children:a}),e.jsx(T,{children:e.jsxs(W,{formPathPrefix:t,children:[e.jsxs(b,{label:e.jsx(s,{message:"Button variant"}),name:`${t}.variant`,selectionMode:"single",className:"mb-20",children:[e.jsx(l,{value:"flat",children:e.jsx(s,{message:"Flat"})}),e.jsx(l,{value:"outline",children:e.jsx(s,{message:"Outline"})}),e.jsx(l,{value:"text",children:e.jsx(s,{message:"Text"})}),e.jsx(l,{value:"raised",children:e.jsx(s,{message:"Raised"})})]}),e.jsxs(b,{label:e.jsx(s,{message:"Button color"}),name:`${t}.color`,selectionMode:"single",className:"mb-20",children:[e.jsx(l,{value:"primary",children:e.jsx(s,{message:"Primary"})}),e.jsx(l,{value:"danger",children:e.jsx(s,{message:"Danger"})}),e.jsx(l,{value:"positive",children:e.jsx(s,{message:"Positive"})}),e.jsx(l,{value:"chip",children:e.jsx(s,{message:"Chip"})}),e.jsx(l,{value:"white",children:e.jsx(s,{message:"White"})}),e.jsx(l,{value:"default",children:e.jsx(s,{message:"Default"})})]})]})})]})}function Pe({prefix:t,index:a}){const n=h.use(S),r=n==null?void 0:n.heroSettings;return r?e.jsx(r,{formPrefix:t,index:a}):null}function ke({index:t}){const a=`client.landingPage.sections.${t}`;return e.jsxs("div",{children:[e.jsx(d,{label:e.jsx(s,{message:"Title"}),className:"mb-20",name:`${a}.title`}),e.jsx(d,{label:e.jsx(s,{message:"Description"}),className:"mb-20",inputElementType:"textarea",rows:4,name:`${a}.description`}),e.jsx("div",{className:"text-sm",children:e.jsx(s,{message:"Configure pricing plans and features from <a>plans page</a>.",values:{a:n=>e.jsx(D,{className:E,to:"/admin/plans",target:"_blank",children:n})}})})]})}function Be(){const{data:t}=de(),a=t.client,n=se({defaultValues:{client:{landingPage:a.landingPage}}});return e.jsxs(N,{title:e.jsx(s,{message:"Landing page"}),defaultRoute:"/?forceHomepage=landing",children:[e.jsx(N.Content,{children:e.jsx(N.Form,{form:n,children:e.jsx(Te,{})})}),e.jsx(N.Preview,{})]})}function Te(){const{fields:t,remove:a,append:n,move:r}=C({name:"client.landingPage.sections"}),[i,o]=h.useState([]),m=h.use(S);return e.jsxs("div",{children:[e.jsxs(ae,{onItemSelected:c=>n({name:c}),children:[e.jsx(g,{variant:"outline",color:"primary",startIcon:e.jsx(I,{}),size:"xs",className:"mb-20",children:e.jsx(s,{message:"Add section"})}),e.jsxs(te,{children:[Object.entries(K).map(([c,x])=>e.jsx(l,{value:c,children:e.jsx(s,{...x})},c)),m!=null&&m.customSections?Object.entries(m.customSections).map(([c,{label:x}])=>e.jsx(l,{value:c,children:e.jsx(s,{...x})},c)):null]})]}),e.jsx(ue,{variant:"outline",size:"lg",expandedValues:i,onExpandedChange:o,children:t.map((c,x)=>e.jsx(Ae,{id:c.id,ids:t.map(u=>u.id),name:c.name,index:x,onSortStart:()=>o([]),onSortEnd:(u,f)=>{r(u,f)},onRemove:()=>{o([]),a(x)}},c.id))})]})}function Ae({id:t,ids:a,name:n,index:r,onSortEnd:i,onSortStart:o,onRemove:m,...c}){var M,R;const x=h.useRef(null),u=h.use(S),{sortableProps:f,dragHandleRef:F}=_({item:t,items:a,type:"sectionsSortable",ref:x,onSortEnd:i,onSortStart:o,strategy:"liveSort"}),U=((R=(M=u==null?void 0:u.customSections)==null?void 0:M[n])==null?void 0:R.label)??K[n];return e.jsx("div",{ref:x,...f,children:e.jsx(je,{...c,startIcon:e.jsx(q,{size:"sm",ref:F}),label:e.jsx(s,{...U}),footerContent:e.jsx("div",{className:"border-t p-8",children:e.jsx(g,{variant:"text",color:"danger",size:"xs",onClick:()=>m(),children:e.jsx(s,{message:"Remove section"})})}),children:e.jsx(Ee,{name:n,index:r})})})}function Ee({name:t,index:a}){var r,i;const n=h.use(S);switch(t){case"hero-split-with-screenshot":case"hero-with-background-image":case"hero-simple-centered":return e.jsx(we,{index:a});case"feature-with-screenshot":return e.jsx(fe,{index:a});case"features-grid":return e.jsx(ye,{index:a});case"cta-simple-centered":return e.jsx(he,{index:a});case"pricing":return e.jsx(ke,{index:a});case"footer":return e.jsx(Ce,{index:a});default:const o=(i=(r=n==null?void 0:n.customSections)==null?void 0:r[t])==null?void 0:i.component;return o?e.jsx(o,{index:a}):null}}const ze={customSections:{channel:{label:p("Channel"),component:ge}},heroSettings:Me};function Os(){return e.jsx(S.Provider,{value:ze,children:e.jsx(Be,{})})}function Me({formPrefix:t}){return e.jsx("div",{className:"mt-12",children:e.jsx(j,{name:`${t}.showSearchBarSlot`,children:e.jsx(s,{message:"Show search bar"})})})}export{Os as Component};
