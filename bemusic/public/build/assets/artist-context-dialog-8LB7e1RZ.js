import{q as m,ae as c,e as d,G as g,H as x,I as j,J as p,aa as r,b as y,r as f,j as t,T as s,$ as h,ac as k}from"./main-CUJEGI8U.js";import{S as C}from"./small-artist-image-BqXmK0zy.js";import{g as A,A as D}from"./artist-link-XkkvBaYk.js";import{u}from"./use-artist-permissions-BSDv3a1p.js";import{C as b,c as n,d as T}from"./share-media-button-Dw3JV4C-.js";import{T as B,C as L}from"./toggle-in-library-menu-button-CqmQ1GOD.js";import{u as v,g as E}from"./use-should-show-radio-button-CEtJUckB.js";import{C as M}from"./confirmation-dialog-DVMbD2S1.js";function S(e){const{pathname:a}=m(),i=c(),{getRedirectUri:o}=d();return g({mutationFn:()=>q(e),onSuccess:()=>{j(p("Artist deleted")),a.startsWith(`/artist/${e}`)&&i(o()),r.invalidateQueries({queryKey:["tracks"]}),r.invalidateQueries({queryKey:["albums"]}),r.invalidateQueries({queryKey:["artists"]})},onError:l=>x(l)})}function q(e){return y.delete(`artists/${e}`).then(a=>a.data)}function J({artist:e}){const a=v(),{canEdit:i}=u(e),o=f.useCallback(()=>$(),[e]);return t.jsxs(b,{image:t.jsx(C,{artist:e}),title:t.jsx(D,{artist:e}),loadTracks:o,children:[t.jsx(B,{items:[e],modelType:"artist"}),a&&t.jsx(n,{type:"link",to:E(e),children:t.jsx(s,{message:"Go to artist radio"})}),t.jsx(L,{link:A(e,{absolute:!0}),children:t.jsx(s,{message:"Copy artist link"})}),t.jsx(T,{item:e}),i&&t.jsx(n,{type:"link",to:`/backstage/artists/${e.id}/insights`,children:t.jsx(s,{message:"Insights"})}),i&&t.jsx(n,{type:"link",to:`/backstage/artists/${e.id}/edit`,children:t.jsx(s,{message:"Edit"})}),t.jsx(R,{artist:e})]})}function R({artist:e}){const{close:a}=h(),i=S(e.id),{canDelete:o}=u(e);return o?t.jsx(n,{disabled:i.isPending,onClick:()=>{a(),k(M,{isDanger:!0,title:t.jsx(s,{message:"Delete artist"}),body:t.jsx(s,{message:"Are you sure you want to delete this artist?"}),confirm:t.jsx(s,{message:"Delete"}),onConfirm:()=>{i.mutate()}})},children:t.jsx(s,{message:"Delete"})}):null}async function $(e){return Promise.resolve([])}export{J as A};
