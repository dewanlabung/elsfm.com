import{r as d,cc as b}from"./main-CUJEGI8U.js";import{$ as m}from"./useEffectEvent-pADbdn7r.js";function D(e){let{ref:t,onInteractOutside:n,isDisabled:a,onInteractOutsideStart:c}=e,s=d.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),i=m(r=>{n&&$(r,t)&&(c&&c(r),s.current.isPointerDown=!0)}),f=m(r=>{n&&n(r)});d.useEffect(()=>{let r=s.current;if(a)return;const p=t.current,o=b(p);if(typeof PointerEvent<"u"){let u=l=>{r.isPointerDown&&$(l,t)&&f(l),r.isPointerDown=!1};return o.addEventListener("pointerdown",i,!0),o.addEventListener("click",u,!0),()=>{o.removeEventListener("pointerdown",i,!0),o.removeEventListener("click",u,!0)}}},[t,a,i,f])}function $(e,t){if(e.button>0)return!1;if(e.target){const n=e.target.ownerDocument;if(!n||!n.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current?!e.composedPath().includes(t.current):!1}export{D as $};
