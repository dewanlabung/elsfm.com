import{x as g,r as x,j as a,T as o,w as C}from"./main-CUJEGI8U.js";import{u as f}from"./use-admin-report-BK6Lnk_R.js";import{f as v,C as i,B as b,L as w,P as y,G as R}from"./polar-area-chart-Bs1Oc09t.js";import{F as A}from"./formatted-number-gsF1qEbc.js";import"./ArrowBack-1PBB3Hhh.js";import"./info-dialog-trigger-CfT6LuLX.js";import"./info-dialog-trigger-icon-DFoUSLJK.js";import"./DateFormatter-Dix9bfnP.js";function S({data:s,direction:t="vertical",individualBarColors:e=!1,className:l,...d}){const{localeCode:r}=g(),j=x.useMemo(()=>{const c=v(s,{localeCode:r});return c.datasets=c.datasets.map((p,u)=>({...p,backgroundColor:e?i.map(m=>m[1]):i[u][1],borderColor:e?i.map(m=>m[0]):i[u][0],borderWidth:2})),c},[s,r,e]),n=t==="horizontal",h=x.useMemo(()=>({indexAxis:n?"y":"x",parsing:{xAxisKey:n?"value":"label",yAxisKey:n?"label":"value"}}),[n]);return a.jsx(b,{type:"bar",className:l,data:j,options:h,...d})}function T({report:s,isLoading:t}){const e=s==null?void 0:s.pageViews.total;return a.jsxs(a.Fragment,{children:[a.jsx(w,{colSpan:"col-span-8",isLoading:t,data:s==null?void 0:s.pageViews,title:a.jsx(o,{message:"Pageviews"}),description:e?a.jsx(o,{message:":count total views",values:{count:a.jsx(A,{value:e})}}):null}),a.jsx(y,{colSpan:"col-span-4",isLoading:t,data:s==null?void 0:s.devices,title:a.jsx(o,{message:"Top devices"})}),a.jsx(R,{colSpan:"col-span-7",isLoading:t,data:s==null?void 0:s.locations,title:a.jsx(o,{message:"Top locations"})}),a.jsx(S,{colSpan:"col-span-5",isLoading:t,data:s==null?void 0:s.browsers,direction:"horizontal",individualBarColors:!0,hideLegend:!0,title:a.jsx(o,{message:"Top browsers"})})]})}function G(){const{dateRange:s}=C(),{data:t,isLoading:e,isPlaceholderData:l}=f({types:["visitors"],dateRange:s});return a.jsx("div",{className:"chart-grid",children:a.jsx(T,{isLoading:e||l,report:t==null?void 0:t.visitorsReport})})}export{G as Component};
