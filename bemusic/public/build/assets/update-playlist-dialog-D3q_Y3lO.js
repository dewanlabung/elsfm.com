import{al as d,G as c,ag as m,H as p,I as x,J as g,aa as y,at as j,b as f,$ as h,M as b,j as s,a0 as P,a1 as D,T as o,a2 as C,as as F,t as l}from"./main-CUJEGI8U.js";import{a as v}from"./create-playlist-dialog-DeyZkjsM.js";import{D as U}from"./dialog-footer-jZcc-BBM.js";function E({form:a,playlistId:e}={}){const t=d();return t.playlistId&&!e&&(e=t.playlistId),c({mutationFn:i=>H(e,i),onSuccess:()=>{x(g("Playlist updated")),y.invalidateQueries({queryKey:j.playlists.invalidateKey})},onError:i=>a?m(i,a):p(i)})}function H(a,e){return f.put(`playlists/${a}`,e).then(t=>t.data)}function T({playlist:a}){const{close:e,formId:t}=h(),i=b({defaultValues:{name:a.name,public:a.public,collaborative:a.collaborative,image:a.image,description:a.description}}),r=E({form:i,playlistId:a.id});return s.jsxs(P,{size:"xl",children:[s.jsx(D,{children:s.jsx(o,{message:"Update playlist"})}),s.jsx(C,{children:s.jsx(F,{id:t,form:i,onSubmit:n=>{r.mutate(n,{onSuccess:u=>{e(u.playlist)}})},children:s.jsx(v,{})})}),s.jsxs(U,{children:[s.jsx(l,{onClick:()=>e(),children:s.jsx(o,{message:"Cancel"})}),s.jsx(l,{form:t,type:"submit",variant:"flat",color:"primary",disabled:r.isPending,children:s.jsx(o,{message:"Update"})})]})]})}export{T as U,E as u};
