import{r as x,j as e,T as u,W as f,an as re,N as ie,al as ze,z as le,ae as T,q,a as ce,at as de,d as h,bZ as Qe,Q as b,D as v,aw as Be,cA as _e,J as z,ao as ue,bQ as Ze,A as Ee,o as Fe,p as Ue,y as qe,u as y,e as O,t as J,v as Q,$ as $e,av as me,ct as $,aR as We,C as X,cC as Z,cD as Ge,a8 as w,cE as Ke,aG as C,aN as xe,ad as pe,cF as Ye,cy as Je,B as Xe,a4 as es,a5 as ss,i as ts,O as ns,cs as as,cx as os,k as rs,cG as is}from"./main-CUJEGI8U.js";import{Component as ee}from"./landing-page-DGBhlpdH.js";import{u as B,o as ls,q as cs,P as ds,c as us,E as ms}from"./share-media-button-Dw3JV4C-.js";import{a as se}from"./offline-media-items-Dlxt2ETB.js";import{P as fe}from"./image-selector-GLpYAkj6.js";import{A as xs,g as W}from"./artist-link-XkkvBaYk.js";import{u as he}from"./use-primary-artist-for-current-user-T_VfOjnm.js";import{A as ps}from"./album-C9ItuPVf.js";import{A as fs}from"./album-context-dialog-C5eIuCxr.js";import{A as hs}from"./album-image-CkUJpPZs.js";import{A as js,g as Cs}from"./album-link-DwfnHHp7.js";import{A as gs}from"./artist-C2fP4kQS.js";import{A as je}from"./artist-context-dialog-8LB7e1RZ.js";import{S as bs}from"./small-artist-image-BqXmK0zy.js";import{A as S}from"./artist-links-YW81uP4U.js";import{P as vs}from"./playlist-BqUIfvab.js";import{P as ys,a as ws}from"./playlist-context-dialog-DH_eECE6.js";import{P as Ms}from"./playlist-image-zogte8rn.js";import{P as ks,g as E}from"./playlist-link-CLw6NzkW.js";import{T as V,t as Ps}from"./track-context-dialog-DU1dwrB2.js";import{T as Ce}from"./track-BCLqLBLk.js";import{T as A}from"./track-image-B3DSRXTB.js";import{T as G,g as ge}from"./track-link-D8mIwI0F.js";import{U as Ns}from"./user-image-CEN5XkJA.js";import{u as d,b as M,a as Is,f as R,P as Ls}from"./use-player-store-BWFGgN3k.js";import{C as Ss}from"./combobox-BECNHGKY.js";import{U as Vs}from"./user-D6GCMJ6c.js";import{M as Hs,D as Ts,a as Os,V as As,L as Rs}from"./Verified-BKkt9PoP.js";import{D as K}from"./dashboard-layout-context-DeTNv3yG.js";import{M as _}from"./Mic-DAPkQZuC.js";import{T as Ds}from"./entitiy-offline-indicator-icon-B5v2rY9X.js";import{P as zs}from"./play-arrow-filled-BrHo1wfG.js";import{P as Qs}from"./Pause-B4fj-x54.js";import{u as Bs}from"./add-to-queue-menu-button-AYv4MHMe.js";import{A as te}from"./Album-pwm22nnR.js";import{H as _s}from"./History-D4FFHwWh.js";import{H as ne}from"./Home-BlCODD9a.js";import{P as Zs}from"./PlaylistPlay-DcgxbGJx.js";import{S as Es}from"./Sell-D56iqjs7.js";import{T as Fs}from"./TrendingUp-hWFiGDg8.js";import{C as Us}from"./create-playlist-dialog-DeyZkjsM.js";import{u as qs}from"./use-auth-click-capture-B9wu-BP4.js";import{P as $s}from"./PlaylistAdd-oExPnRbi.js";import{P as Ws}from"./player-page-header-gradient-B98PHS1w.js";import{L as be}from"./like-icon-button-ppQBH-Cs.js";import{u as I,M as Gs,a as Y}from"./use-current-time-B0BzHA9Q.js";import{D as Ks}from"./Download-rbsKggzM.js";import{d as Ys}from"./download-file-from-url-BVaKcxRP.js";import{S as ve}from"./slider-BDqMUq69.js";import{F as ye}from"./formatted-duration-2_MIaPa4.js";import{i as Js,u as H,b as L,P as Xs,a as et,p as st}from"./player-outlet-s7ZpyKk9.js";import{T as tt}from"./track-table-CY1bAvY-.js";import{a as nt}from"./table-CgoYghfp.js";import{M as at}from"./MoreVert-BiULonS7.js";import{u as ot}from"./use-previous-BgqS7ski.js";import{K as rt}from"./KeyboardArrowUp-8xF761W9.js";import{D as it,a as lt}from"./dashboard-layout-BZhWa9Ee.js";import{D as we}from"./dashboard-sidenav-BybmKPij.js";import{u as ct}from"./is-tablet-media-query-DhMPnSWn.js";import"./ad-host-3MKQnMjM.js";import"./getScrollParent--OCc5gFh.js";import"./default-meta-tags-Cim_8kSD.js";import"./billing-cycle-radio-DIC2mXFs.js";import"./radio-group-Doy0FWiL.js";import"./pricing-table-Bx8_PvkR.js";import"./formatted-price-o7rYOnCC.js";import"./product-feature-list-h7uiYZPf.js";import"./skeleton-BmWW5Jc-.js";import"./useSuspenseQuery-13TuSADp.js";import"./Waves-Ou3z0lLx.js";import"./Public-BmLfdHqf.js";import"./Publish-wob_XvAQ.js";import"./Repeat-DTFydNM6.js";import"./MusicNote-SjrQa4Nt.js";import"./Star-CDg8HN-f.js";import"./Add-B3RL66ee.js";import"./KeyboardArrowRight-CjTKdvdU.js";import"./FavoriteBorder-D1CUmnAo.js";import"./share-media-buttons-DtF-m4-I.js";import"./Share-C8wHCu8Q.js";import"./dialog-footer-jZcc-BBM.js";import"./tabs-BVjOaE7L.js";import"./tab-panels-BNEb_18b.js";import"./use-clipboard-CQvDhy4G.js";import"./extension-from-filename-O0XMuZye.js";import"./file-upload-provider-DWaB2xE4.js";import"./uploaded-file-ksxfN_l-.js";import"./pretty-bytes-bO14ePu9.js";import"./traditional-BcYcLesO.js";import"./use-active-upload-BwzDBsep.js";import"./open-upload-window-CboR35vP.js";import"./AddAPhoto-y5pGVyq2.js";import"./file-input-config-DrcTpI3-.js";import"./use-delete-album-VPJfiJbG.js";import"./use-album-permissions-_OgAnUnz.js";import"./toggle-in-library-menu-button-CqmQ1GOD.js";import"./toggle-repost-menu-button-DAsBpr-F.js";import"./confirmation-dialog-DVMbD2S1.js";import"./use-artist-permissions-BSDv3a1p.js";import"./use-should-show-radio-button-CEtJUckB.js";import"./update-playlist-dialog-D3q_Y3lO.js";import"./playable-grid-item-Cb5d38jQ.js";import"./MoreHoriz-RUUnngeG.js";import"./use-track-permissions-ChTh4jJA.js";import"./is-ctrl-or-shift-pressed-Bx-mqgCW.js";import"./middleware-BLXTWOs6.js";import"./combobox-end-adornment-B0xReOuL.js";import"./check-circle-filled-BwqtgJPU.js";import"./switch-4KDjemPX.js";import"./Image-DWFqsH18.js";import"./use-slider-B78Jo8sh.js";import"./useGlobalListeners-BeXr-yG1.js";import"./use-pointer-events-DcvSqvAc.js";import"./use-current-date-time-BhbL04rR.js";import"./Schedule-D2nn-qO3.js";import"./checkbox-suk8vW77.js";import"./CheckBoxOutlineBlank-BgWeDdny.js";import"./ArrowDownward-BHYKFIfy.js";import"./useInteractOutside-BFJZ3Z5N.js";import"./useEffectEvent-pADbdn7r.js";function dt(){const s=B(a=>a.offlineQueue.size),[t,n]=x.useState(()=>ae(se.getDownloadProgress()));return x.useEffect(()=>{let a=0;return se.listen("onActiveDownloadsChanged",o=>{const i=ae(o);i!==a&&n(i),a=i})},[]),e.jsxs("div",{className:"fixed left-12 right-12 top-12 z-toast mx-auto flex min-w-320 max-w-max items-center gap-10 overflow-hidden rounded-lg border bg p-12 shadow",children:[e.jsxs("div",{className:"mr-auto text-sm text-main",children:[e.jsx("div",{className:"mb-2",children:e.jsx(u,{message:"Downloading :count tracks...",values:{count:s}})}),e.jsx("div",{className:"text-xs text-muted",children:e.jsx(u,{message:"Keep window open to continue"})})]}),e.jsx(f,{size:"sm",onClick:()=>{ls().setOfflineToastVisible(!1)},children:e.jsx(re,{})}),e.jsx(fe,{size:"xs",value:t,isIndeterminate:t===100||t===0,className:"absolute bottom-0 left-0 right-0",trackHeight:"h-2"})]})}function ae(s){const t=Array.from(s.values()).map(n=>n);return t.length===0?0:Math.trunc(t.reduce((n,a)=>n+a,0)/t.length)}function ut(){return e.jsx(ie,{color:"bg-elevated",darkModeColor:"bg-elevated",logoColor:"matchMode",border:"border-b",textColor:"text-main",size:null,className:"flex-shrink-0 px-2 py-8"})}function mt({className:s}){const{searchQuery:t}=ze(),{trans:n}=le(),a=T(),{pathname:o}=q(),i=o.startsWith("/search/"),[r,l]=x.useState(t||""),[m,p]=x.useState(!1),{isFetching:P,data:g}=ce({...de.search.results("search",r),enabled:!!r&&!i,placeholderData:qe});return e.jsx("form",{onSubmit:k=>{k.preventDefault();const N=encodeURIComponent(r.trim());N&&(p(!1),a(`/search/${N}`))},className:h("flex flex-auto",s),children:e.jsx(Ss,{className:"w-full max-w-720 flex-auto",startAdornment:e.jsx(f,{type:"submit","aria-label":n(z("Search")),children:e.jsx(ue,{})}),offset:12,hideEndAdornment:!0,inputClassName:"w-full outline-none placeholder:text-muted max-h-46",size:"lg",isAsync:!0,inputRadius:"rounded-button",inputShadow:"shadow-sm",inputBorder:"border border-divider-lighter",background:"dark:bg-fg-base/10",placeholder:n(z("Search songs, artists, albums, playlists")),isLoading:P,inputValue:r,onInputValueChange:l,clearInputOnItemSelection:!0,blurReferenceOnItemSelection:!0,selectionMode:"none",openMenuOnFocus:!0,floatingMaxHeight:670,isOpen:m,onOpenChange:p,autoFocusFirstItem:!1,children:Object.entries((g==null?void 0:g.results)||{}).map(([k,N])=>e.jsx(Qe,{label:e.jsx(u,{message:k}),children:N.data.map(c=>{const j=`${k}-${c.id}`;switch(c.model_type){case gs:return e.jsx(b,{value:j,onSelected:()=>{a(W(c))},startIcon:e.jsx(D,{model:c,className:"rounded-full",value:j,children:e.jsx(bs,{artist:c})}),description:e.jsx(u,{message:"Artist"}),textLabel:c.name,children:e.jsxs(v,{type:"popover",mobileType:"tray",triggerOnContextMenu:!0,children:[e.jsx("div",{children:e.jsx(xs,{artist:c})}),e.jsx(je,{artist:c})]})},j);case ps:return e.jsx(b,{value:j,onSelected:()=>{a(Cs(c))},startIcon:e.jsx(D,{model:c,value:j,children:e.jsx(hs,{album:c})}),description:e.jsx(S,{artists:c.artists}),textLabel:c.name,children:e.jsxs(v,{type:"popover",mobileType:"tray",triggerOnContextMenu:!0,children:[e.jsx("div",{children:e.jsx(js,{album:c})}),e.jsx(fs,{album:c})]})},j);case Ce:return e.jsx(b,{value:j,onSelected:()=>{a(ge(c))},startIcon:e.jsx(D,{model:c,value:j,children:e.jsx(A,{track:c})}),description:e.jsx(S,{artists:c.artists}),textLabel:c.name,children:e.jsxs(v,{type:"popover",mobileType:"tray",triggerOnContextMenu:!0,children:[e.jsx("div",{children:e.jsx(G,{track:c})}),e.jsx(V,{tracks:[c]})]})},j);case Vs:return e.jsx(b,{value:j,onSelected:()=>{a(_e(c))},startIcon:e.jsx(Ns,{className:"h-48 w-48",user:c}),description:c.followers_count?e.jsx(u,{message:":count followers",values:{count:c.followers_count}}):null,textLabel:c.name,children:e.jsx(Be,{user:c})},j);case vs:return e.jsx(b,{value:j,onSelected:()=>{a(E(c))},startIcon:e.jsx(D,{model:c,value:j,children:e.jsx(Ms,{playlist:c})}),description:e.jsx(ws,{playlist:c}),textLabel:c.name,children:e.jsxs(v,{type:"popover",mobileType:"tray",triggerOnContextMenu:!0,children:[e.jsx("div",{children:e.jsx(ks,{playlist:c})}),e.jsx(ys,{playlist:c})]})},j)}})},k))})})}function D({children:s,model:t,className:n,value:a}){var P;const{collection:o,state:{activeIndex:i}}=Ze(),r=(P=o.get(a))==null?void 0:P.index,l=i===r,m=cs(t),p=d(g=>{var k;return g.isPlaying&&((k=g.originalQueue[0])==null?void 0:k.groupId)===m});return e.jsxs("div",{className:h(n,"relative h-48 w-48 overflow-hidden"),onClick:g=>{g.preventDefault(),g.stopPropagation()},children:[x.cloneElement(s,{size:"w-full h-full"}),e.jsx(Ee,{children:l||p?e.jsx(Fe.div,{...Ue,transition:{duration:.24},className:"absolute inset-0 m-auto flex h-full w-full items-center justify-center bg-black/60",children:e.jsx(ds,{buttonType:"icon",color:"white",equalizerColor:"white",track:t.model_type===Ce?t:void 0,queueId:m})},"play-overlay"):null})]})}function xt({children:s,className:t,hideToggleButton:n,...a}){const{isMobileMode:o,leftSidenavCanBeCompact:i,toggleLeftSidenavStatus:r,toggleLeftSidenavCompactMode:l}=x.useContext(K),m=i&&!o,p=!n&&(o||i);return e.jsx(ie,{className:h("dashboard-grid-navbar",t),border:"border-b",size:"sm",toggleButton:p?e.jsx(f,{size:"md",onClick:()=>{m?l():r()},children:e.jsx(Hs,{})}):void 0,...a,children:s})}function pt(){const s=T(),t=he(),{player:n}=y(),a=x.useMemo(()=>t?[e.jsx(b,{value:"author",startIcon:e.jsx(_,{}),onSelected:()=>{s(W(t))},children:e.jsx(u,{message:"Artist profile"})},"author")]:n!=null&&n.show_become_artist_btn?[e.jsx(b,{value:"author",startIcon:e.jsx(_,{}),onSelected:()=>{s("/backstage/requests")},children:e.jsx(u,{message:"Become an author"})},"author")]:[],[t,s,n==null?void 0:n.show_become_artist_btn]);return e.jsxs(xt,{color:"transparent",darkModeColor:"transparent",logoColor:"matchMode",border:"border-none",textColor:"text-main",size:null,className:"my-8",authMenuItems:a,children:[e.jsx(mt,{className:"ml-44"}),e.jsx(ft,{})]})}function ft(){const{player:s,billing:t}=y(),{isLoggedIn:n,hasPermission:a,isSubscribed:o}=O(),i=(s==null?void 0:s.show_upload_btn)&&n&&a("music.create"),r=(t==null?void 0:t.enable)&&!o;return e.jsxs(x.Fragment,{children:[r?e.jsx(J,{variant:"outline",size:"xs",color:"primary",elementType:Q,to:"/pricing",children:e.jsx(u,{message:"Try Pro"})}):null,i?e.jsx(J,{variant:r?"text":"outline",size:"xs",color:r?void 0:"primary",elementType:Q,to:"/backstage/upload",children:e.jsx(u,{message:"Upload"})}):null]})}function Me({queueItems:s}){return e.jsx(V,{tracks:s.map(t=>t.meta),showAddToQueueButton:!1,children:()=>e.jsx(ht,{queueItems:s})})}function ht({queueItems:s}){const{close:t}=$e(),n=M();return e.jsx(us,{onClick:async()=>{t(),n.removeFromQueue(s)},children:e.jsx(u,{message:"Remove from queue"})})}function ke(){const{player:s}=y(),t=d(o=>o.cuedMedia!=null),n=d(o=>o.providerName==="htmlAudio"),a=me();return(s==null?void 0:s.hide_video)||!t||a||n}function Pe(s,t){return d(n=>{var a;return n.isPlaying&&((a=n.cuedMedia)==null?void 0:a.id)===s&&!0})}function jt(){const s=d(a=>a.shuffledQueue),t=ke(),{setRightSidenavStatus:n}=x.useContext(K);return e.jsxs("div",{className:"h-full",children:[e.jsxs("div",{className:"flex items-center justify-between gap-10 border-b border-divider-lighter py-6 pl-14 pr-6 text-sm font-semibold",children:[e.jsx(u,{message:"Queue"}),e.jsx(f,{size:"sm",onClick:()=>n("closed"),children:e.jsx(re,{})})]}),e.jsx("div",{className:h("compact-scrollbar overflow-y-auto overflow-x-hidden",t?"h-full":"h-[calc(100%-260px)]"),children:s.map((a,o)=>e.jsx(Ct,{media:a},`${a.id}-${o}`))})]})}function Ct({media:s}){var m;const t=d(p=>{var P;return((P=p.cuedMedia)==null?void 0:P.id)===s.id}),n=Pe(s.id),[a,o]=x.useState(!1),i=$(),r=(m=s.meta)==null?void 0:m.id,l=B(p=>r?p.offlinedTrackIds.has(r):!1);return s.meta?e.jsxs(v,{type:"popover",triggerOnContextMenu:!0,placement:"bottom-start",children:[e.jsxs("div",{onPointerEnter:()=>o(!0),onPointerLeave:()=>o(!1),className:h("flex items-center gap-10 border-b border-divider-lighter p-8",t&&"bg-primary/80 text-white",i&&!l&&"pointer-events-none opacity-50"),children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx(A,{className:"h-34 w-34 flex-shrink-0 rounded object-cover",track:s.meta}),(a||n)&&e.jsx(gt,{media:s,isHover:a})]}),e.jsxs("div",{className:"max-w-180 flex-auto whitespace-nowrap",children:[e.jsx("div",{className:"overflow-hidden overflow-ellipsis text-sm",children:s.meta.name}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ds,{trackId:s.meta.id,className:"text-muted"}),e.jsx(S,{className:"overflow-hidden overflow-ellipsis text-xs",linkClassName:t?"text-inherit":"text-muted",artists:s.meta.artists})]})]})]}),e.jsx(Me,{queueItems:[s]})]}):null}function gt({media:s,isHover:t}){const n=Pe(s.id),{trans:a}=le(),o=M();if(!s.meta)return null;let i;return n?i=e.jsx("button",{"aria-label":a(z("Pause :name",{values:{name:s.meta.name}})),tabIndex:0,onClick:()=>o.pause(),children:t?e.jsx(Qs,{}):e.jsx(ms,{color:"white"})}):i=e.jsx("button",{"aria-label":a(z("Play :name",{values:{name:s.meta.name}})),tabIndex:0,onClick:()=>o.play(s),children:e.jsx(zs,{})}),e.jsx("div",{className:"absolute left-0 top-0 flex h-full w-full items-center justify-center rounded bg-black/50 text-white",children:i})}const F={"/":ne,"/discover":ne,"/search":ue,"/library":Rs,"/popular-albums":te,"/genres":Es,"/popular-tracks":Fs,"/new-releases":As,"/library/songs":We,"/library/albums":te,"/library/artists":Os,"/library/playlists":Zs,"/library/history":_s,"/library/downloads":Ts},U=s=>h("h-44 px-12 mx-12 rounded-panel transition-button",s?"bg-selected font-semibold":"hover:bg-hover");function bt({className:s}){const t=Bs(),{homepage:n}=y(),{isLoggedIn:a}=O();return e.jsxs("div",{className:h("overflow-y-auto py-12",s),children:[e.jsx(X,{className:"items-stretch",menu:"sidebar-primary",orientation:"vertical",gap:"gap-none",itemClassName:({isActive:o})=>U(o),defaultIcons:F,children:(o,{item:i,...r})=>(i.action==="/"&&(n==null?void 0:n.type)==="landingPage"&&!a&&(i.action="/discover"),e.jsx(Z,{item:i,...r},i.id))}),e.jsxs("div",{className:"mt-48",children:[e.jsx(Ne,{children:e.jsx(u,{message:"Library"})}),e.jsx(X,{className:"mt-12 items-stretch",menu:"sidebar-secondary",orientation:"vertical",gap:"gap-none",itemClassName:({isActive:o})=>U(o),defaultIcons:F,children:(o,i)=>o.action==="/library/downloads"&&!t?null:e.jsx(Z,{...i},o.id)}),e.jsx(vt,{})]})]})}function Ne({children:s,className:t}){return e.jsx("div",{className:h("mx-24 mb-8 text-xs font-semibold uppercase text-muted",t),children:s})}function vt(){const{data:s}=ce(de.playlists.compactAuthUserPlaylists()),t=T(),n=qs();return e.jsxs("div",{className:"mt-40",children:[e.jsxs("div",{className:"mr-24 flex items-center justify-between",children:[e.jsx(Ne,{className:"hover:underline",children:e.jsx(Q,{to:"/library/playlists",children:e.jsx(u,{message:"Playlists"})})}),e.jsxs(v,{type:"modal",onClose:a=>{a&&t(E(a))},children:[e.jsx(f,{className:"flex-shrink-0 text-muted",onClickCapture:n,children:e.jsx($s,{})}),e.jsx(Us,{})]})]}),s==null?void 0:s.map(a=>e.jsx(Ge,{to:E(a),className:({isActive:o})=>h(U(o),"flex items-center"),children:e.jsx("div",{className:"overflow-hidden overflow-ellipsis whitespace-nowrap",children:a.name})},a.id))]})}function Ie(){const{player:s,base_url:t}=y(),n=I(),{hasPermission:a}=O(),o=$();return!(s!=null&&s.enable_download)||!n||!Ps(n)||!a("music.download")||o?null:e.jsx(w,{label:e.jsx(u,{message:"Download"}),children:e.jsx(f,{onClick:()=>{Ys(`${t}/tracks/${n.id}/download`)},children:e.jsx(Ks,{})})})}function Le(){const{player:s}=y(),t=I(),n=T(),a=!!Ke("/lyrics"),{key:o}=q(),i=o!=="default",l=$()||!t||(s==null?void 0:s.hide_lyrics);return!t||s!=null&&s.hide_lyrics?null:e.jsx(w,{label:e.jsx(u,{message:"Lyrics"}),children:e.jsx(f,{disabled:l,onClick:()=>{a?i&&n(-1):n("/lyrics")},color:a?"primary":void 0,children:e.jsx(Gs,{})})})}function yt({trackColor:s,fillColor:t,className:n,onPointerMove:a}){const{pause:o,seek:i,setIsSeeking:r,play:l,getState:m}=M(),p=d(c=>c.mediaDuration),P=d(c=>c.providerReady),g=d(c=>c.pauseWhileSeeking),k=Y(),N=x.useRef(!1);return e.jsx(ve,{fillColor:t,trackColor:s,thumbSize:"w-14 h-14",showThumbOnHoverOnly:!0,className:n,width:"w-auto",isDisabled:!P,value:k,minValue:0,maxValue:p,onPointerMove:a,onPointerDown:()=>{r(!0),g&&(N.current=m().isPlaying||m().isBuffering,o())},onChange:c=>{m().emit("progress",{currentTime:c}),i(c)},onChangeEnd:()=>{r(!1),g&&N.current&&(l(),N.current=!1)}})}function wt({className:s}){const t=d(a=>a.mediaDuration),n=Y();return e.jsx("span",{className:s,children:e.jsx(ye,{seconds:n,addZeroToFirstUnit:t>=600})})}function Mt({className:s}){const t=d(n=>n.mediaDuration);return e.jsx("span",{className:s,children:e.jsx(ye,{seconds:t,addZeroToFirstUnit:t>=600})})}function kt(){return e.jsx(x.Fragment,{children:e.jsxs("div",{className:"flex items-center gap-12",children:[e.jsx("div",{className:"text-xs text-muted flex-shrink-0 min-w-40 text-right",children:e.jsx(wt,{})}),e.jsx(yt,{className:"flex-auto",trackColor:"neutral"}),e.jsx("div",{className:"text-xs text-muted flex-shrink-0 min-w-40",children:e.jsx(Mt,{})})]})})}const Pt=C(e.jsx("path",{d:"M10.6667 6.6548C10.6667 6.10764 11.2894 5.79346 11.7295 6.11862L24.377 15.4634C24.7377 15.7298 24.7377 16.2692 24.3771 16.5357L11.7295 25.8813C11.2895 26.2065 10.6667 25.8923 10.6667 25.3451L10.6667 6.6548Z"}),"MediaPlay","0 0 32 32"),Nt=C([e.jsx("path",{d:"M8.66667 6.66667C8.29848 6.66667 8 6.96514 8 7.33333V24.6667C8 25.0349 8.29848 25.3333 8.66667 25.3333H12.6667C13.0349 25.3333 13.3333 25.0349 13.3333 24.6667V7.33333C13.3333 6.96514 13.0349 6.66667 12.6667 6.66667H8.66667Z"},"0"),e.jsx("path",{d:"M19.3333 6.66667C18.9651 6.66667 18.6667 6.96514 18.6667 7.33333V24.6667C18.6667 25.0349 18.9651 25.3333 19.3333 25.3333H23.3333C23.7015 25.3333 24 25.0349 24 24.6667V7.33333C24 6.96514 23.7015 6.66667 23.3333 6.66667H19.3333Z"},"1")],"MediaPause","0 0 32 32");function Se({size:s="md",iconSize:t="xl",color:n,stopPropagation:a}){const o=d(m=>m.isPlaying),i=d(m=>m.providerReady),r=M(),l=o?e.jsx(u,{message:"Pause (k)"}):e.jsx(u,{message:"Play (k)"});return e.jsx(w,{label:l,usePortal:!1,children:e.jsx(f,{color:n,size:s,iconSize:t,disabled:!i,onClick:m=>{a&&m.stopPropagation(),o?r.pause():r.play()},children:o?e.jsx(Nt,{}):e.jsx(Pt,{})})})}const It=C([e.jsx("path",{d:"M6.39617 6.78532C5.9561 6.46017 5.33334 6.77434 5.33334 7.32151V24.6785C5.33334 25.2257 5.95612 25.5398 6.39619 25.2147L18.1415 16.5358C18.5021 16.2693 18.5021 15.7299 18.1415 15.4634L6.39617 6.78532Z"},"0"),e.jsx("path",{d:"M23.5339 6.6667C23.1657 6.6667 22.8672 6.96518 22.8672 7.33337V24.6667C22.8672 25.0349 23.1657 25.3334 23.5339 25.3334H25.5339C25.902 25.3334 26.2005 25.0349 26.2005 24.6667V7.33337C26.2005 6.96518 25.902 6.6667 25.5339 6.6667H23.5339Z"},"1")],"MediaNext","0 0 32 32");function Ve({size:s="md",iconSize:t,color:n,className:a,stopPropagation:o}){const i=M(),r=d(l=>l.providerReady);return e.jsx(w,{label:e.jsx(u,{message:"Next"}),usePortal:!1,children:e.jsx(f,{disabled:!r,size:s,color:n,iconSize:t,className:a,onClick:l=>{o&&l.stopPropagation(),i.playNext()},children:e.jsx(It,{})})})}const Lt=C([e.jsx("path",{d:"M25.1377 6.78532C25.5778 6.46017 26.2005 6.77434 26.2005 7.32151V24.6785C26.2005 25.2257 25.5777 25.5398 25.1377 25.2147L13.3924 16.5358C13.0317 16.2693 13.0317 15.7299 13.3924 15.4634L25.1377 6.78532Z"},"0"),e.jsx("path",{d:"M8 6.6667C8.36819 6.6667 8.66667 6.96518 8.66667 7.33337V24.6667C8.66667 25.0349 8.36819 25.3334 8 25.3334H6C5.63181 25.3334 5.33333 25.0349 5.33333 24.6667V7.33337C5.33333 6.96518 5.63181 6.6667 6 6.6667H8Z"},"1")],"MediaPrevious","0 0 32 32");function He({size:s="md",iconSize:t,color:n,className:a,stopPropagation:o}){const i=M(),r=d(l=>l.providerReady);return e.jsx(w,{label:e.jsx(u,{message:"Previous"}),children:e.jsx(f,{disabled:!r,size:s,color:n,iconSize:t,className:a,onClick:l=>{o&&l.stopPropagation(),i.playPrevious()},children:e.jsx(Lt,{})})})}const St=C(e.jsx("path",{d:"M23.7295 5.65252C23.2894 5.32737 22.6667 5.64155 22.6667 6.18871V7.86672C22.6667 7.94036 22.607 8.00005 22.5333 8.00005H21.3333C18.6228 8.00005 16.2268 9.34843 14.7798 11.411C14.7251 11.489 14.6083 11.489 14.5536 11.411C13.1065 9.34843 10.7106 8.00005 8.00001 8.00005H6.00001C5.63182 8.00005 5.33334 8.29853 5.33334 8.66672V10.3998C5.33334 10.768 5.63182 11.0665 6.00001 11.0665H8.00001C10.724 11.0665 12.9336 13.2748 12.9336 16.0001C12.9336 18.7253 10.724 20.9336 8.00001 20.9336H6.00001C5.63182 20.9336 5.33334 21.2321 5.33334 21.6003V23.3334C5.33334 23.7016 5.63182 24.0001 6.00001 24.0001H8.00001C10.7106 24.0001 13.1065 22.6517 14.5536 20.5891C14.6083 20.5111 14.7251 20.5111 14.7798 20.5891C16.2268 22.6517 18.6228 24.0001 21.3333 24.0001H22.5333C22.607 24.0001 22.6667 24.0597 22.6667 24.1334V25.8113C22.6667 26.3585 23.2895 26.6727 23.7295 26.3475L28.2568 23.0022C28.6175 22.7357 28.6174 22.1963 28.2568 21.9298L23.7295 18.5848C23.2894 18.2597 22.6667 18.5738 22.6667 19.121V20.8003C22.6667 20.874 22.607 20.9336 22.5333 20.9336H21.3333C18.6094 20.9336 16.3997 18.7253 16.3997 16.0001C16.3997 13.2748 18.6094 11.0665 21.3333 11.0665H22.5333C22.607 11.0665 22.6667 11.1262 22.6667 11.1998V12.879C22.6667 13.4262 23.2895 13.7404 23.7295 13.4152L28.2568 10.0699C28.6175 9.8034 28.6174 9.26401 28.2568 8.99753L23.7295 5.65252Z"}),"MediaShuffle","0 0 32 32"),Vt=C([e.jsx("path",{d:"M22.6666 6.18871C22.6666 5.64155 23.2894 5.32737 23.7295 5.65252L28.2567 8.99753C28.6174 9.26401 28.6174 9.8034 28.2568 10.0699L23.7295 13.4152C23.2894 13.7404 22.6666 13.4262 22.6666 12.879V11.1998C22.6666 11.1262 22.607 11.0665 22.5333 11.0665H21.3333C18.6094 11.0665 16.3997 13.2748 16.3997 16.0001C16.3997 18.7253 18.6094 20.9336 21.3333 20.9336H22.5333C22.607 20.9336 22.6666 20.874 22.6666 20.8003V19.121C22.6666 18.5738 23.2894 18.2597 23.7295 18.5848L28.2567 21.9298C28.6174 22.1963 28.6174 22.7357 28.2568 23.0022L23.7295 26.3475C23.2894 26.6727 22.6666 26.3585 22.6666 25.8113V24.1334C22.6666 24.0597 22.607 24.0001 22.5333 24.0001H21.3333C18.6227 24.0001 16.2268 22.6517 14.7798 20.5891C14.725 20.5111 14.6082 20.5111 14.5535 20.5891C13.1065 22.6517 10.7106 24.0001 7.99998 24.0001H5.99998C5.63179 24.0001 5.33331 23.7016 5.33331 23.3334V21.6003C5.33331 21.2321 5.63179 20.9336 5.99998 20.9336H7.99998C10.7239 20.9336 12.9336 18.7253 12.9336 16.0001C12.9336 13.2748 10.7239 11.0665 7.99998 11.0665H5.99998C5.63179 11.0665 5.33331 10.768 5.33331 10.3998V8.66672C5.33331 8.29853 5.63179 8.00005 5.99998 8.00005H7.99998C10.7106 8.00005 13.1065 9.34843 14.5535 11.411C14.6082 11.489 14.725 11.489 14.7798 11.411C16.2268 9.34843 18.6227 8.00005 21.3333 8.00005H22.5333C22.607 8.00005 22.6666 7.94036 22.6666 7.86672V6.18871Z"},"0"),e.jsx("path",{d:"M28.6666 18.0001C29.7712 18.0001 30.6666 17.1046 30.6666 16.0001C30.6666 14.8955 29.7712 14.0001 28.6666 14.0001C27.5621 14.0001 26.6666 14.8955 26.6666 16.0001C26.6666 17.1046 27.5621 18.0001 28.6666 18.0001Z"},"1")],"MediaShuffleOn","0 0 32 32");function Ht({size:s="md",iconSize:t,color:n,activeColor:a="primary",className:o}){const i=d(p=>p.providerReady),r=d(p=>p.shuffling),l=M(),m=r?e.jsx(u,{message:"Disable shuffle"}):e.jsx(u,{message:"Enable shuffle"});return e.jsx(w,{label:m,children:e.jsx(f,{disabled:!i,size:s,color:r?a:n,iconSize:t,className:o,onClick:()=>{l.toggleShuffling()},children:r?e.jsx(Vt,{}):e.jsx(St,{})})})}const Tt=C([e.jsx("path",{d:"M22.1969 4.98846C21.7569 4.66331 21.1341 4.97748 21.1341 5.52465V7.20266C21.1341 7.27629 21.0744 7.33599 21.0008 7.33599H11.1341C8.18859 7.33599 5.80078 9.72381 5.80078 12.6693V14.6693C5.80078 15.0375 6.09925 15.336 6.46744 15.336H8.20078C8.56897 15.336 8.86744 15.0375 8.86744 14.6693V13.0691C8.86744 11.5963 10.0613 10.4024 11.5341 10.4024H21.0008C21.0744 10.4024 21.1341 10.4621 21.1341 10.5357V12.215C21.1341 12.7621 21.7569 13.0763 22.197 12.7511L26.7242 9.40583C27.0849 9.13934 27.0849 8.59995 26.7242 8.33347L22.1969 4.98846Z"},"0"),e.jsx("path",{d:"M10.8652 24.7975C10.8652 24.7238 10.9249 24.6641 10.9986 24.6641H20.8652C23.8108 24.6641 26.1986 22.2763 26.1986 19.3308V17.3308C26.1986 16.9626 25.9001 16.6641 25.5319 16.6641H23.7986C23.4304 16.6641 23.1319 16.9626 23.1319 17.3308V18.931C23.1319 20.4038 21.938 21.5977 20.4652 21.5977H10.9986C10.9249 21.5977 10.8652 21.538 10.8652 21.4644V19.7851C10.8652 19.238 10.2425 18.9238 9.80239 19.249L5.27512 22.5943C4.91447 22.8608 4.91448 23.4002 5.27514 23.6666L9.80241 27.0116C10.2425 27.3368 10.8652 27.0226 10.8652 26.4755V24.7975Z"},"1")],"MediaRepeat","0 0 32 32"),Ot=C([e.jsx("path",{d:"M22.1969 4.98846C21.7569 4.66331 21.1341 4.97748 21.1341 5.52465V7.20266C21.1341 7.27629 21.0744 7.33599 21.0008 7.33599H11.1341C8.18859 7.33599 5.80078 9.72381 5.80078 12.6693V14.6693C5.80078 15.0375 6.09925 15.336 6.46744 15.336H8.20078C8.56897 15.336 8.86744 15.0375 8.86744 14.6693V13.0691C8.86744 11.5963 10.0613 10.4024 11.5341 10.4024H21.0008C21.0744 10.4024 21.1341 10.4621 21.1341 10.5357V12.215C21.1341 12.7621 21.7569 13.0763 22.197 12.7511L26.7242 9.40583C27.0849 9.13934 27.0849 8.59995 26.7242 8.33347L22.1969 4.98846Z"},"0"),e.jsx("path",{d:"M16 18.0001C17.1046 18.0001 18 17.1046 18 16.0001C18 14.8955 17.1046 14.0001 16 14.0001C14.8954 14.0001 14 14.8955 14 16.0001C14 17.1046 14.8954 18.0001 16 18.0001Z"},"1"),e.jsx("path",{d:"M20.8652 24.6641H10.9986C10.9249 24.6641 10.8652 24.7238 10.8652 24.7975V26.4755C10.8652 27.0226 10.2425 27.3368 9.80241 27.0116L5.27514 23.6666C4.91448 23.4002 4.91447 22.8608 5.27512 22.5943L9.80239 19.249C10.2425 18.9238 10.8652 19.238 10.8652 19.7851V21.4644C10.8652 21.538 10.9249 21.5977 10.9986 21.5977H20.4652C21.938 21.5977 23.1319 20.4038 23.1319 18.931V17.3308C23.1319 16.9626 23.4304 16.6641 23.7986 16.6641H25.5319C25.9001 16.6641 26.1986 16.9626 26.1986 17.3308V19.3308C26.1986 22.2763 23.8108 24.6641 20.8652 24.6641Z"},"2")],"MediaRepeatOn","0 0 32 32");function At({size:s="md",iconSize:t,color:n,activeColor:a="primary",className:o}){const i=d(p=>p.providerReady),r=d(p=>p.repeat),l=M();let m;return r==="all"?m=e.jsx(u,{message:"Enable repeat one"}):r==="one"?m=e.jsx(u,{message:"Disable repeat"}):m=e.jsx(u,{message:"Enable repeat"}),e.jsx(w,{label:m,children:e.jsx(f,{disabled:!i,size:s,color:r?a:n,iconSize:t,className:o,onClick:()=>{l.toggleRepeatMode()},children:r==="one"?e.jsx(Ot,{}):e.jsx(Tt,{})})})}function Te(){const s=x.useContext(Is),[t,n]=x.useState(!1),[a,o]=x.useState(!1),i=x.useRef(null);return x.useEffect(()=>s.subscribe(r=>r.isBuffering,r=>{r||Js?(o(!0),i.current=setTimeout(()=>{n(!0)})):(clearTimeout(i.current),n(!1))}),[s]),e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"none",className:h("pointer-events-none absolute -left-3 -top-3 z-10 transition-opacity duration-300",t?"opacity-100":"opacity-0",a&&"animate-spin"),onTransitionEnd:()=>{t||o(!1)},children:[e.jsx("g",{clipPath:"url(#a)",children:e.jsx("path",{stroke:"url(#b)",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",d:"M45.72 31.644c-1.016 3.036-2.777 5.84-5.116 8.301-8.846 9.161-23.386 9.5-32.547.654-9.16-8.845-9.416-23.44-.654-32.546"})}),e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"b",x1:"7.863",x2:"45.527",y1:"7.178",y2:"31.53",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"currentColor"}),e.jsx("stop",{offset:"1",stopColor:"currentColor",stopOpacity:"0"})]}),e.jsx("clipPath",{children:e.jsx("path",{fill:"currentColor",d:"M0 0h48v48H0z"})})]})]})}function Oe({className:s}){return e.jsxs("div",{className:s,children:[e.jsx(Rt,{}),e.jsx(kt,{})]})}function Rt(){const s=me();return e.jsxs("div",{className:h("flex items-center justify-center gap-6",s&&"mb-20"),children:[e.jsx(Ht,{iconSize:s?"md":"sm"}),e.jsx(He,{size:"md"}),e.jsxs("div",{className:"relative",children:[e.jsx(Te,{}),e.jsx(Se,{size:"md",iconSize:"xl"})]}),e.jsx(Ve,{size:"md"}),e.jsx(At,{iconSize:s?"md":"sm"})]})}function Dt(){const s=x.useRef(0),t=M(),n=x.useCallback(()=>{t.getState().isPlaying?t.pause():t.play()},[t]);return x.useCallback(()=>{t.getState().providerReady&&(s.current+=1,n(),s.current===1&&setTimeout(()=>{s.current>1&&t.toggleFullscreen(),s.current=0},300))},[t,n])}const zt=C([e.jsx("path",{d:"M25.3299 7.26517C25.2958 6.929 25.0119 6.66666 24.6667 6.66666H19.3334C18.9652 6.66666 18.6667 6.96514 18.6667 7.33333V9.33333C18.6667 9.70152 18.9652 10 19.3334 10L21.8667 10C21.9403 10 22 10.0597 22 10.1333V12.6667C22 13.0349 22.2985 13.3333 22.6667 13.3333H24.6667C25.0349 13.3333 25.3334 13.0349 25.3334 12.6667V7.33333C25.3334 7.31032 25.3322 7.28758 25.3299 7.26517Z"},"0"),e.jsx("path",{d:"M22 21.8667C22 21.9403 21.9403 22 21.8667 22L19.3334 22C18.9652 22 18.6667 22.2985 18.6667 22.6667V24.6667C18.6667 25.0349 18.9652 25.3333 19.3334 25.3333L24.6667 25.3333C25.0349 25.3333 25.3334 25.0349 25.3334 24.6667V19.3333C25.3334 18.9651 25.0349 18.6667 24.6667 18.6667H22.6667C22.2985 18.6667 22 18.9651 22 19.3333V21.8667Z"},"1"),e.jsx("path",{d:"M12.6667 22H10.1334C10.0597 22 10 21.9403 10 21.8667V19.3333C10 18.9651 9.70154 18.6667 9.33335 18.6667H7.33335C6.96516 18.6667 6.66669 18.9651 6.66669 19.3333V24.6667C6.66669 25.0349 6.96516 25.3333 7.33335 25.3333H12.6667C13.0349 25.3333 13.3334 25.0349 13.3334 24.6667V22.6667C13.3334 22.2985 13.0349 22 12.6667 22Z"},"2"),e.jsx("path",{d:"M10 12.6667V10.1333C10 10.0597 10.0597 10 10.1334 10L12.6667 10C13.0349 10 13.3334 9.70152 13.3334 9.33333V7.33333C13.3334 6.96514 13.0349 6.66666 12.6667 6.66666H7.33335C6.96516 6.66666 6.66669 6.96514 6.66669 7.33333V12.6667C6.66669 13.0349 6.96516 13.3333 7.33335 13.3333H9.33335C9.70154 13.3333 10 13.0349 10 12.6667Z"},"3")],"MediaFullscreen","0 0 32 32"),Ae=C([e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.33335 6C6.96516 6 6.66669 6.29848 6.66669 6.66667V13.3333C6.66669 13.7015 6.96516 14 7.33335 14H24.6667C25.0349 14 25.3334 13.7015 25.3334 13.3333V6.66667C25.3334 6.29848 25.0349 6 24.6667 6H7.33335ZM9.46669 8.66667C9.39305 8.66667 9.33335 8.72636 9.33335 8.8V11.2C9.33335 11.2736 9.39305 11.3333 9.46669 11.3333H22.5334C22.607 11.3333 22.6667 11.2736 22.6667 11.2V8.8C22.6667 8.72636 22.607 8.66667 22.5334 8.66667H9.46669Z"},"0"),e.jsx("path",{d:"M6.66669 18C6.66669 17.6318 6.96516 17.3333 7.33335 17.3333H24.6667C25.0349 17.3333 25.3334 17.6318 25.3334 18V19.3333C25.3334 19.7015 25.0349 20 24.6667 20H7.33335C6.96516 20 6.66669 19.7015 6.66669 19.3333V18Z"},"1"),e.jsx("path",{d:"M6.66669 24C6.66669 23.6318 6.96516 23.3333 7.33335 23.3333H24.6667C25.0349 23.3333 25.3334 23.6318 25.3334 24V25.3333C25.3334 25.7015 25.0349 26 24.6667 26H7.33335C6.96516 26 6.66669 25.7015 6.66669 25.3333V24Z"},"2")],"MediaQueueList","0 0 32 32");function Qt(){const s=H(r=>r.isMaximized),t=H(r=>r.isQueueOpen),n=ke(),a=x.useRef(null),{pathname:o}=q(),i=ot(o);return x.useEffect(()=>{s&&i&&o!==i&&L.toggle()},[o,i,s]),x.useEffect(()=>{if(!s)return;const r=l=>{l.key==="Escape"&&L.toggle()};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[s]),e.jsxs("div",{ref:a,className:h("fixed right-0 isolate overflow-hidden bg outline-none transition-all",n&&!s&&"hidden",s?"bottom-0 h-full w-full pb-50":"bottom-[112px] right-8 h-[213px] w-256 rounded-panel"),children:[e.jsx(Bt,{overlayRef:a}),s&&t&&e.jsx(Et,{overlayRef:a})]})}function Bt({overlayRef:s}){const t=H(r=>r.isMaximized),n=d(r=>r.isFullscreen),a=Dt(),o=d(r=>r.providerApi!=null&&r.providerName!=="htmlAudio"),i=I();return e.jsxs("div",{className:"h-full w-full",children:[t&&e.jsx(De,{}),e.jsxs("div",{className:h("relative z-10 h-full w-full",t&&"flex flex-col"),children:[t&&e.jsx(Re,{overlayRef:s}),e.jsxs("div",{onClick:()=>{n||a()},className:h("relative min-h-0 max-w-full flex-auto",t?"mx-auto mt-auto px-14":"h-full w-full",t&&o?"aspect-video":"aspect-square max-h-400"),children:[e.jsx(Xs,{className:"absolute inset-0",fallback:i?e.jsx(A,{className:"h-full w-full",background:"bg-[#f5f5f5] dark:bg-[#2c2c35]",track:i}):void 0}),e.jsx("div",{className:o?"h-full w-full flex-auto bg-black":void 0,children:e.jsx(et,{className:"h-full w-full"})})]}),t&&e.jsxs(x.Fragment,{children:[e.jsx(Zt,{}),e.jsx(Oe,{className:"container mx-auto mb-auto flex-shrink-0 px-14"})]})]})]})}function _t({overlayRef:s}){const t=d(n=>n.providerReady);return e.jsx(f,{className:h("ml-12 flex-shrink-0 max-md:hidden",!R.fullscreenEnabled&&"hidden"),disabled:!t,onClick:()=>{s.current&&(R.fullscreenElement?R.exitFullscreen():R.requestFullscreen(s.current))},children:e.jsx(zt,{})})}function Zt(){const s=I();return s?e.jsxs("div",{className:"container mx-auto my-40 flex flex-shrink-0 items-center justify-center gap-34 px-14 md:my-60",children:[e.jsx(be,{likeable:s}),e.jsxs("div",{className:"min-w-0 text-center",children:[e.jsx("div",{className:"overflow-hidden overflow-ellipsis whitespace-nowrap text-base",children:e.jsx(G,{track:s})}),e.jsx("div",{className:"text-sm text-muted",children:e.jsx(S,{artists:s.artists})})]}),e.jsxs(v,{type:"popover",mobileType:"tray",children:[e.jsx(f,{children:e.jsx(at,{})}),e.jsx(V,{tracks:[s]})]})]}):null}function Et({overlayRef:s}){var a;const t=d(o=>o.shuffledQueue),n=t.map(o=>o.meta);return e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 top-0 z-20 overflow-y-auto bg",children:[e.jsx(De,{}),e.jsxs("div",{className:"relative",children:[e.jsx(Re,{overlayRef:s}),e.jsx(tt,{className:"px-14 md:px-44",tracks:n,queueGroupId:(a=t[0])==null?void 0:a.groupId,renderRowAs:Ft})]})]})}function Ft({item:s,children:t,...n}){const a=d(l=>l.shuffledQueue),{selectedRows:o}=x.useContext(nt),i=x.useMemo(()=>o.map(l=>a.find(m=>m.meta.id===l)).filter(l=>!!l),[a,o]),r=e.jsx("div",{...n,children:t});return s.isPlaceholder?r:e.jsxs(v,{type:"popover",mobileType:"tray",triggerOnContextMenu:!0,placement:"bottom-start",children:[r,e.jsx(Me,{queueItems:i})]})}function Re({overlayRef:s}){const t=xe("(max-width: 1024px)"),n=H(a=>a.isQueueOpen);return e.jsxs("div",{className:"mb-10 flex flex-shrink-0 items-center p-10",children:[e.jsx(f,{iconSize:"lg",className:"mr-auto",onClick:()=>L.toggle(),children:e.jsx(pe,{})}),t&&e.jsx(Le,{}),t&&e.jsx(Ie,{}),e.jsx(f,{onClick:()=>L.toggleQueue(),color:n?"primary":void 0,children:e.jsx(Ae,{})}),e.jsx(_t,{overlayRef:s})]})}function De(){const s=I();return s!=null&&s.image?e.jsx(Ws,{bgColor:"bg",image:s.image,disableTransition:!0,height:"h-[50vh]"}):null}const Ut=C([e.jsx("path",{d:"M17.5091 24.6594C17.5091 25.2066 16.8864 25.5208 16.4463 25.1956L9.44847 20.0252C9.42553 20.0083 9.39776 19.9991 9.36923 19.9991H4.66667C4.29848 19.9991 4 19.7006 4 19.3325V12.6658C4 12.2976 4.29848 11.9991 4.66667 11.9991H9.37115C9.39967 11.9991 9.42745 11.99 9.45039 11.973L16.4463 6.8036C16.8863 6.47842 17.5091 6.79259 17.5091 7.33977L17.5091 24.6594Z"},"0"),e.jsx("path",{d:"M28.8621 13.6422C29.1225 13.3818 29.1225 12.9597 28.8621 12.6994L27.9193 11.7566C27.659 11.4962 27.2368 11.4962 26.9765 11.7566L24.7134 14.0197C24.6613 14.0717 24.5769 14.0717 24.5248 14.0197L22.262 11.7568C22.0016 11.4964 21.5795 11.4964 21.3191 11.7568L20.3763 12.6996C20.116 12.9599 20.116 13.382 20.3763 13.6424L22.6392 15.9053C22.6913 15.9573 22.6913 16.0418 22.6392 16.0938L20.3768 18.3562C20.1165 18.6166 20.1165 19.0387 20.3768 19.299L21.3196 20.2419C21.58 20.5022 22.0021 20.5022 22.2624 20.2418L24.5248 17.9795C24.5769 17.9274 24.6613 17.9274 24.7134 17.9795L26.976 20.2421C27.2363 20.5024 27.6585 20.5024 27.9188 20.2421L28.8616 19.2992C29.122 19.0389 29.122 18.6168 28.8616 18.3564L26.599 16.0938C26.547 16.0418 26.547 15.9573 26.599 15.9053L28.8621 13.6422Z"},"1")],"MediaMute","0 0 32 32"),qt=C([e.jsx("path",{d:"M17.5091 24.6594C17.5091 25.2066 16.8864 25.5207 16.4463 25.1956L9.44847 20.0252C9.42553 20.0083 9.39776 19.9991 9.36923 19.9991H4.66667C4.29848 19.9991 4 19.7006 4 19.3324V12.6658C4 12.2976 4.29848 11.9991 4.66667 11.9991H9.37115C9.39967 11.9991 9.42745 11.99 9.45039 11.973L16.4463 6.80358C16.8863 6.4784 17.5091 6.79258 17.5091 7.33975L17.5091 24.6594Z"},"0"),e.jsx("path",{d:"M22.8424 12.6667C22.8424 12.2985 22.544 12 22.1758 12H20.8424C20.4743 12 20.1758 12.2985 20.1758 12.6667V19.3333C20.1758 19.7015 20.4743 20 20.8424 20H22.1758C22.544 20 22.8424 19.7015 22.8424 19.3333V12.6667Z"},"1")],"MediaVolumeLow","0 0 32 32"),$t=C([e.jsx("path",{d:"M17.5091 24.6595C17.5091 25.2066 16.8864 25.5208 16.4463 25.1956L9.44847 20.0252C9.42553 20.0083 9.39776 19.9992 9.36923 19.9992H4.66667C4.29848 19.9992 4 19.7007 4 19.3325V12.6658C4 12.2976 4.29848 11.9992 4.66667 11.9992H9.37115C9.39967 11.9992 9.42745 11.99 9.45039 11.9731L16.4463 6.80363C16.8863 6.47845 17.5091 6.79262 17.5091 7.3398L17.5091 24.6595Z"},"0"),e.jsx("path",{d:"M27.5091 9.33336C27.8773 9.33336 28.1758 9.63184 28.1758 10V22C28.1758 22.3682 27.8773 22.6667 27.5091 22.6667H26.1758C25.8076 22.6667 25.5091 22.3682 25.5091 22V10C25.5091 9.63184 25.8076 9.33336 26.1758 9.33336L27.5091 9.33336Z"},"1"),e.jsx("path",{d:"M22.1758 12C22.544 12 22.8424 12.2985 22.8424 12.6667V19.3334C22.8424 19.7016 22.544 20 22.1758 20H20.8424C20.4743 20 20.1758 19.7016 20.1758 19.3334V12.6667C20.1758 12.2985 20.4743 12 20.8424 12H22.1758Z"},"2")],"MediaVolumeHigh","0 0 32 32");function Wt({trackColor:s,fillColor:t,buttonColor:n,className:a}){const o=d(l=>l.volume),i=M(),r=d(l=>l.providerReady);return e.jsxs("div",{className:h("flex w-min items-center gap-4",a),children:[e.jsx(Gt,{color:n}),e.jsx(ve,{isDisabled:!r,showThumbOnHoverOnly:!0,thumbSize:"w-14 h-14",trackColor:s,fillColor:t,minValue:0,maxValue:100,className:"flex-auto",width:"w-96",value:o,onChange:l=>{i.setVolume(l)}})]})}function Gt({color:s,size:t="sm",iconSize:n="md"}){const a=d(l=>l.muted),o=d(l=>l.volume),i=M(),r=d(l=>l.providerReady);return a?e.jsx(w,{label:e.jsx(u,{message:"Unmute"}),usePortal:!1,children:e.jsx(f,{disabled:!r,color:s,size:t,iconSize:n,onClick:()=>i.setMuted(!1),children:e.jsx(Ut,{})})}):e.jsx(w,{label:e.jsx(u,{message:"Mute"}),children:e.jsx(f,{disabled:!r,color:s,size:t,iconSize:n,onClick:()=>i.setMuted(!0),children:o<40?e.jsx(qt,{}):e.jsx($t,{})})})}function Kt(){return d(t=>t.cuedMedia!=null)?e.jsxs("div",{className:"dashboard-grid-footer player-section z-30 m-8 flex h-96 items-center justify-between px-16",children:[e.jsx(Yt,{}),e.jsx(Oe,{className:"w-2/5 max-w-[722px]"}),e.jsx(Jt,{})]}):null}function Yt(){var n;const s=I();let t;return s?t=e.jsxs("div",{className:"flex items-center gap-14",children:[e.jsxs(v,{type:"popover",triggerOnContextMenu:!0,placement:"top",children:[e.jsx(Q,{to:ge(s),className:"flex-shrink-0",children:e.jsx(A,{className:"h-56 w-56 rounded object-cover",track:s})}),e.jsx(V,{tracks:[s]})]}),e.jsxs("div",{className:"min-w-0 overflow-hidden overflow-ellipsis",children:[e.jsxs(v,{type:"popover",triggerOnContextMenu:!0,placement:"top",children:[e.jsx(G,{track:s,className:"min-w-0 max-w-full whitespace-nowrap text-sm"}),e.jsx(V,{tracks:[s]})]}),(n=s.artists)!=null&&n.length?e.jsxs(v,{type:"popover",triggerOnContextMenu:!0,placement:"top",children:[e.jsx("div",{className:"text-xs text-muted",children:e.jsx(S,{artists:s.artists,className:"whitespace-nowrap"})}),e.jsx(je,{artist:s.artists[0]})]}):null]}),e.jsx(be,{likeable:s})]}):t=null,e.jsx("div",{className:"w-[30%] min-w-180",children:t})}function Jt(){const{rightSidenavStatus:s,setRightSidenavStatus:t}=x.useContext(K);return e.jsxs("div",{className:"flex w-[30%] min-w-180 items-center justify-end",children:[e.jsx(Le,{}),e.jsx(Ie,{}),e.jsx(w,{label:e.jsx(u,{message:"Queue"}),children:e.jsx(f,{className:"flex-shrink-0",onClick:()=>{t(s==="closed"?"open":"closed")},children:e.jsx(Ae,{})})}),e.jsx(Wt,{trackColor:"neutral"}),e.jsx(Xt,{})]})}function Xt(){const s=H(a=>a.isMaximized),t=d(a=>a.providerReady),{player:n}=y();return n!=null&&n.hide_video_button?null:e.jsx(w,{label:e.jsx(u,{message:"Expand"}),children:e.jsx(f,{className:"ml-26 flex-shrink-0",color:"chip",variant:"flat",size:"xs",iconSize:"sm",disabled:!t,onClick:()=>{L.toggle()},children:s?e.jsx(pe,{}):e.jsx(rt,{})})})}function en(){return e.jsxs("div",{className:"m-4 rounded-panel border border-divider-lighter shadow dark:border-divider dark:bg-elevated",children:[e.jsx(sn,{}),e.jsx(on,{})]})}function sn(){return d(t=>t.cuedMedia!=null)?e.jsxs("div",{className:"relative flex items-center justify-between gap-24 px-10 py-8",onClick:()=>{L.toggle()},children:[e.jsx(tn,{}),e.jsx(nn,{}),e.jsx(an,{})]}):null}function tn(){var t;const s=I();return s?e.jsxs("div",{className:"flex min-w-0 flex-auto items-center gap-10",children:[e.jsx(A,{className:"h-36 w-36 rounded object-cover",track:s}),e.jsxs("div",{className:"flex-auto overflow-hidden whitespace-nowrap",children:[e.jsx("div",{className:"overflow-hidden overflow-ellipsis text-sm font-medium",children:s.name}),e.jsx("div",{className:"overflow-hidden overflow-ellipsis text-xs text-muted",children:(t=s.artists)==null?void 0:t.map(n=>n.name).join(", ")})]})]}):null}function nn(){return e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(He,{stopPropagation:!0}),e.jsxs("div",{className:"relative isolate",children:[e.jsx(Te,{}),e.jsx(Se,{size:"md",iconSize:"lg",stopPropagation:!0})]}),e.jsx(Ve,{stopPropagation:!0})]})}function an(){const s=d(n=>n.mediaDuration),t=Y();return e.jsx(fe,{size:"xs",className:"absolute bottom-0 left-0 right-0",trackColor:"bg-divider",trackHeight:"h-2",radius:"rounded-none",minValue:0,maxValue:s,value:t})}function on(){const s=Ye("mobile-bottom");return s?e.jsxs("div",{className:"my-12 flex items-center justify-between gap-30 px-[max(10%,34px)]",children:[s.items.map(t=>e.jsx(Z,{unstyled:!0,defaultIcons:F,iconClassName:"block mx-auto mb-6",iconSize:"md",className:({isActive:n})=>h("overflow-hidden whitespace-nowrap text-xs",n&&"font-bold"),item:t},t.id)),e.jsx(rn,{})]}):null}function rn(){const{user:s}=O(),t=!!(s!=null&&s.unread_notifications_count),n=T(),{registration:a}=y(),o=he(),{player:i}=y(),r=x.useMemo(()=>o?[e.jsx(b,{value:"author",startIcon:e.jsx(_,{}),onSelected:()=>{n(W(o))},children:e.jsx(u,{message:"Artist profile"})},"author")]:i!=null&&i.show_become_artist_btn?[e.jsx(b,{value:"author",startIcon:e.jsx(_,{}),onSelected:()=>{n("/backstage/requests")},children:e.jsx(u,{message:"Become an author"})},"author")]:[],[o,n,i==null?void 0:i.show_become_artist_btn]),l=e.jsxs("button",{className:"relative text-xs",children:[e.jsx(Je,{size:"md"}),t?e.jsx(Xe,{className:"-top-6",right:"right-4",children:s==null?void 0:s.unread_notifications_count}):null,e.jsx("div",{className:"text-xs",children:e.jsx(u,{message:"Account"})})]});return s?e.jsx(ts,{items:r,children:l}):e.jsxs(es,{children:[l,e.jsxs(ss,{children:[e.jsx(b,{value:"login",onSelected:()=>n("/login"),children:e.jsx(u,{message:"Login"})}),!(a!=null&&a.disable)&&e.jsx(b,{value:"register",onSelected:()=>n("/register"),children:e.jsx(u,{message:"Register"})})]})]})}window.beSwInitialIsOffline&&as.setOnline(!1);function ln(){const{player:s}=y(),n=ct()?e.jsxs("div",{className:"flex h-screen flex-col bg-elevated",children:[e.jsx(ut,{}),e.jsx(oe,{}),e.jsx(en,{})]}):e.jsxs(it,{name:"web-player",initialRightSidenavStatus:s!=null&&s.hide_queue?"closed":"open",className:"bg-alt dark:bg",children:[e.jsx(pt,{}),e.jsx(we,{position:"left",display:"block",className:"player-section mx-8",children:e.jsx(bt,{})}),e.jsx(lt,{children:e.jsx(oe,{})}),e.jsx(dn,{}),e.jsx(Kt,{})]});return e.jsxs(Ls,{id:"web-player",options:st,children:[n,e.jsx(Qt,{}),e.jsx(cn,{})]})}function cn(){const s=B(n=>n.offlineQueue.size);return!B(n=>n.offlineToastVisible)||s===0?null:e.jsx(dt,{})}function oe({className:s}){return e.jsx("main",{className:h("compact-scrollbar player-section relative flex-auto overflow-x-hidden stable-scrollbar",s),children:e.jsx("div",{className:"web-player-container mx-auto min-h-full p-16 @container md:p-30",children:e.jsx(ns,{})})})}function dn(){const s=xe("(max-width: 1280px)"),t=d(n=>!n.shuffledQueue.length);return e.jsx(we,{position:"right",size:"w-256",mode:s?"overlay":void 0,overlayPosition:"absolute",display:"block",forceClosed:t,className:"player-section mx-8",children:e.jsx(jt,{})})}function Mo(){var r;const{isInsideSettingsPreview:s,settingsEditorParams:t}=os(),{homepage:n}=y(),{user:a}=O(),o=rs(),i=(n==null?void 0:n.type)??"";return s&&t.forceHomepage==="landing"?e.jsx(ee,{}):i.startsWith("channel")||i.startsWith("landing")&&a||i.startsWith("login")&&a||((r=o.at(-1))==null?void 0:r.id)!=="webPlayerIndex"?e.jsx(is,{requireLogin:!1,permission:"music.view",children:e.jsx(ln,{})}):e.jsx(ee,{})}export{Mo as Component};
